var carte={};!function(){var t=function(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s,this.ulx=t,this.uly=e,this.lrx=t+i,this.lry=e+i};t.prototype.containsPoint=function(t,e){return this.ulx<=t&&t<=this.lrx&&this.uly<=e&&e<=this.lry},t.prototype.containsRect=function(t){return this.containsPoint(t.x,t.y)&&this.containsPoint(t.x+t.width,t.y+t.height)},t.prototype.containsDimensions=function(t,e){return this.width>=t&&this.height>=e},t.prototype.getNormalizedRect=function(e,i){var s=this.x/e,n=this.y/i,r=this.width/e,o=this.height/i;return new t(s,n,r,o)},window.Rectangle=t}(),function(){var t=function(t){this.rect=t,this.name="sprite0",this.image=null,this.child=[]};t.prototype.computeNormal=function(t,e){return this.maxWidth=t,this.maxHeight=e,this.normalRect=this.rect.getNormalizedRect(t,e),this},t.prototype.insert=function(e,i){var s=null;if(null!==this.image)return this.child.length>0?(s=this.child[0].insert(e,i),null!==s?s:this.child[1].insert(e,i)):null;if(this.rect.containsDimensions(i.width,i.height)){if(this.rect.width==i.width&&this.rect.height==i.height)return this.name=e,this.image=i,this;if(this.child.length>0)return s=this.child[0].insert(e,i),null!==s?s:this.child[1].insert(e,i);var n=this.rect,r=this.rect.width-i.width,o=this.rect.height-i.height;return r>o?(this.child[0]=new t(new Rectangle(n.x,n.y,i.width,n.height)),this.child[1]=new t(new Rectangle(n.x+i.width,n.y,r,n.height))):(this.child[0]=new t(new Rectangle(n.x,n.y,n.width,i.height)),this.child[1]=new t(new Rectangle(n.x,n.y+i.height,n.width,o))),this.child[0].computeNormal(this.maxWidth,this.maxHeight),this.child[1].computeNormal(this.maxWidth,this.maxHeight),this.child[0].insert(e,i)}return null},t.prototype.get=function(t){if(this.name==t)return this;if(this.child.length>0){var e=this.child[0].get(t);return null!==e?e:this.child[1].get(t)}return null},t.prototype["delete"]=function(t){var e=this.get(t);return e&&e.clear(),e},t.prototype.clear=function(){this.name="",this.image=null};var e=function(e,i){this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=i,this.context=this.canvas.getContext("2d"),this.texture=new THREE.Texture(this.canvas),this.texture.minFilter=THREE.NearestFilter,this.texture.magFilter=THREE.NearestFilter,this.texture.flipY=!1,this.pnode=new t(new Rectangle(0,0,e,i)),this.pnode.computeNormal(e,i)};e.prototype=new THREE.EventDispatcher,e.prototype.constructor=e,e.prototype.get=function(t){return this.pnode.get(t)},e.prototype.add=function(t,e){if(void 0===e||null===e)return null;if(null!==this.get(t))return null;var i=this.pnode.insert(t,e);if(i){var s=i.rect;this.context.drawImage(e,s.x,s.y),this.texture.needsUpdate=!0,this.dispatchEvent({type:"sprite_added"})}return i},e.prototype.remove=function(t){var e=this.pnode["delete"](t);if(e){var i=e.rect;this.context.clearRect(i.x,i.y,i.width,i.height),this.texture.needsUpdate=!0,this.dispatchEvent({type:"sprite_removed"})}return e},e.prototype.load=function(t,e){},window.DynamicSpriteSheet=e}(),function(){var t=function(){};t.prototype.init=function(){return this},t.prototype.draw=function(){},t.prototype.update=function(){},t.prototype.create=function(t){},t.prototype.add=function(t){},t.prototype.remove=function(t){},t.prototype.destroy=function(t){},window.ObjectRenderer=t}(),function(){var t=function(){}.toString().match(/[^]*\/\*([^]*)\*\/\}$/)[1],e=function(){}.toString().match(/[^]*\/\*([^]*)\*\/\}$/)[1],i=Math.pow(2,32)-1,s=-99999,n=function(){};n.prototype=Object.create(THREE.EventDispatcher.prototype);var r=function(t){this.webGlView=t,this.pointSize=32,this.raycaster=new THREE.Raycaster,this.mouse=new THREE.Vector2,this.markers={},this.hoveredMarker=null,this.minIndex=i,this.maxIndex=0,this.index=0};r.prototype.init=function(){return this.positions=new Float32Array(3e6),this.positions.fill(s),this.positionsAttribute=new THREE.BufferAttribute(this.positions,3),this.positionsAttribute.setDynamic(!0),this.colors=new Float32Array(3e6),this.colorsAttribute=new THREE.BufferAttribute(this.colors,3),this.colorsAttribute.setDynamic(!0),this.tiles=new Float32Array(4e6),this.tilesAttribute=new THREE.BufferAttribute(this.tiles,4),this.tilesAttribute.setDynamic(!0),this.geometry=new THREE.BufferGeometry,this.geometry.addAttribute("position",this.positionsAttribute),this.geometry.addAttribute("color",this.colorsAttribute),this.geometry.addAttribute("tile",this.tilesAttribute),this.spriteSheet=new DynamicSpriteSheet(256,256),this.material=new THREE.ShaderMaterial({uniforms:{tex1:{type:"t",value:this.spriteSheet.texture},pointSize:{type:"f",value:this.pointSize}},vertexColors:THREE.VertexColors,vertexShader:t,fragmentShader:e,transparent:!0,depthWrite:!1,depthTest:!1}),this.sceneObject=new THREE.Points(this.geometry,this.material),this.raycastObjects=[this.sceneObject],this.addEventListeners(),this},r.prototype.addEventListeners=function(){document.addEventListener("mousemove",this.handleDocumentMouseMove.bind(this),!1),document.addEventListener("click",this.handleDocumentMouseClick.bind(this),!1)},r.prototype.handleDocumentMouseMove=function(t){this.update(t)},r.prototype.handleDocumentMouseClick=function(t){this.update(t),this.hoveredMarker&&this.hoveredMarker.dispatchEvent({type:"click"})},r.prototype._createMarker=function(t){var e=new n;return e.index=t,this.markers[t]=e,e},r.prototype.add=function(t){for(var e=3*this.index;e<this.positions.length&&this.positions[e]!==s;)e=3*++this.index;if(e>=this.positions.length)return void console.log("[PointRenderer] Run out of points!!!");t=t||{},t.position=t.position||{x:0,y:0,z:0},t.color=t.color||{r:1,g:1,b:1},this.positions[e+0]=t.position.x,this.positions[e+1]=t.position.y,this.positions[e+2]=t.position.z,this.colors[e+0]=t.color.r,this.colors[e+1]=t.color.g,this.colors[e+2]=t.color.b;var i=this.spriteSheet.get(t.imageName);i||(i=this.spriteSheet.add(t.imageName,t.image),i||console.log("[PointRenderer] SpriteSheet already full."));var n=null!==i?i.normalRect:{x:0,y:0,width:0,height:0};this.tiles[4*this.index+0]=n.x,this.tiles[4*this.index+1]=n.y,this.tiles[4*this.index+2]=n.width,this.tiles[4*this.index+3]=n.height,this.minIndex=Math.min(this.minIndex,this.index),this.maxIndex=Math.max(this.maxIndex,this.index);var r=this.markers[this.index]||this._createMarker(this.index);return this.index++,r},r.prototype.remove=function(t){var e=3*t.index;this.positions[e+0]=s,this.positions[e+1]=s,this.positions[e+2]=s,this.minIndex=Math.min(this.minIndex,t.index),this.maxIndex=Math.max(this.maxIndex,t.index),this.index>t.index&&(this.index=t.index)},r.prototype.draw=function(){this.minIndex=this.minIndex==i?0:this.minIndex;var t=this.maxIndex!=this.minIndex;this.positionsAttribute.updateRange.offset=3*this.minIndex,this.positionsAttribute.updateRange.count=3*this.maxIndex+3-3*this.minIndex,this.positionsAttribute.needsUpdate=t,this.colorsAttribute.updateRange.offset=3*this.minIndex,this.colorsAttribute.updateRange.count=3*this.maxIndex+3-3*this.minIndex,this.colorsAttribute.needsUpdate=t,this.tilesAttribute.updateRange.offset=4*this.minIndex,this.tilesAttribute.updateRange.count=4*this.maxIndex+4-4*this.minIndex,this.tilesAttribute.needsUpdate=t,t&&(this.geometry.computeBoundingBox(),this.geometry.computeBoundingSphere()),this.minIndex=i,this.maxIndex=0},r.prototype.update=function(t){this.mouse.x=t.clientX/this.webGlView.width*2-1,this.mouse.y=2*-(t.clientY/this.webGlView.height)+1,this.raycaster.params.Points.threshold=16/Math.pow(2,this.webGlView.scale),this.raycaster.setFromCamera(this.mouse,this.webGlView.camera);var e=this.raycaster.intersectObjects(this.raycastObjects);intersection=e.length>0?e[0]:null,intersection?null===this.hoveredMarker?(this.hoveredMarker=this.markers[intersection.index],this.hoveredMarker.dispatchEvent({type:"mouseover"})):this.hoveredMarker.index!=intersection.index&&(this.hoveredMarker.dispatchEvent({type:"mouseout"}),this.hoveredMarker=this.markers[intersection.index],this.hoveredMarker.dispatchEvent({type:"mouseover"})):null!==this.hoveredMarker&&(this.hoveredMarker.dispatchEvent({type:"mouseout"}),this.hoveredMarker=null)},window.PointRenderer=r}(),function(){var t=function(){};t.prototype=new ObjectRenderer,t.prototype.constructor=ObjectRenderer,t.prototype.create=function(t){t=t||{};var e=t.features||[],i=null!==t.fillColor&&void 0!==t.fillColor?t.fillColor:255,s=null!==t.strokeColor&&void 0!==t.strokeColor?t.strokeColor:16777215;if(null===e||0===e.length)return null;for(var n=new THREE.Geometry,r=new THREE.Geometry,o=n.vertices.length,h=0,a=0;a<e.length;a++){var l=e[a];if(0!==l.length)for(var d=0;d<l.length;d++)for(var u=l[d],p=0;p<u.length;p++){for(var c=u[p],m=[],y=[],f=0,g=0;g<c.length;g++){var v=c[g],x={x:v[0],y:v[1]};m.push(x.x),m.push(x.y);var w=new THREE.Vector3(x.x,x.y,1001);n.vertices.push(w);var E=new THREE.Vector3(x.x,x.y,1);r.vertices.push(E);var b,R,T;g==c.length-1?(b=c[0],R={x:b[0],y:b[1]},T=new THREE.Vector3(R.x,R.y,1),r.vertices.push(T)):(b=c[g+1],R={x:b[0],y:b[1]},T=new THREE.Vector3(R.x,R.y,1),r.vertices.push(T))}p>0&&y.push(f),f+=c.length;for(var M=earcut(m,null,2),S=0;S<M.length;S+=3){var A=new THREE.Face3(M[S+2]+o,M[S+1]+o,M[S+0]+o);n.faces.push(A)}o=n.vertices.length,h++}}var I=new THREE.Mesh(n,new THREE.MeshBasicMaterial({color:i,opacity:.25,transparent:!0,depthWrite:!1,depthTest:!1})),k=new THREE.LineSegments(r,new THREE.LineBasicMaterial({color:s,linewidth:2,opacity:.25,transparent:!0,depthWrite:!1,depthTest:!1}));return{shape:I,outline:k}},window.PolygonRenderer=t}(),function(){var t=function(){}.toString().match(/[^]*\/\*([^]*)\*\/\}$/)[1],e=function(){}.toString().match(/[^]*\/\*([^]*)\*\/\}$/)[1],i=Math.pow(2,32)-1,s=-99999,n=12,r=6,o=8,h=16,a=function(){this.minIndex=i,this.maxIndex=0,this.index=0,this.sprites=[],this.opacity=.8};a.prototype.init=function(){return this.positions=new Float32Array(1024*n),this.positions.fill(s),this.positionsAttribute=new THREE.BufferAttribute(this.positions,3),this.positionsAttribute.setDynamic(!0),this.indices=new Uint16Array(1024*r),this.indicesAttribute=new THREE.BufferAttribute(this.indices,1),this.indicesAttribute.setDynamic(!0),this.uv=new Float32Array(1024*o),this.uvAttribute=new THREE.BufferAttribute(this.uv,2),this.uvAttribute.setDynamic(!0),this.tiles=new Float32Array(1024*h),this.tilesAttribute=new THREE.BufferAttribute(this.tiles,4),this.tilesAttribute.setDynamic(!0),this.geometry=new THREE.BufferGeometry,this.geometry.setIndex(this.indicesAttribute),this.geometry.addAttribute("position",this.positionsAttribute),this.geometry.addAttribute("uv",this.uvAttribute),this.geometry.addAttribute("tile",this.tilesAttribute),this.spriteSheet=new DynamicSpriteSheet(4096,4096),this.material=new THREE.ShaderMaterial({uniforms:{tex1:{type:"t",value:this.spriteSheet.texture},alpha:{type:"f",value:this.opacity}},vertexShader:t,fragmentShader:e}),this.sceneObject=new THREE.Mesh(this.geometry,this.material),this},a.prototype.add=function(t){for(var e=this.index*n;e<this.positions.length&&this.positions[e]!==s;)e=++this.index*n;if(e>=this.positions.length)return void console.log("[SpriteRenderer] Run out of points!!!");var i=t.image,a=t.imageName,l=this.spriteSheet.get(a);l||(l=this.spriteSheet.add(a,i),l||console.log("[SpriteRenderer] SpriteSheet already full.")),t=t||{},t.position=t.position||{x:0,y:0,z:0},t.width=t.width||256,t.height=t.height||256,t.imageName=t.icon||"red-dot",this.positions[e+0]=t.position.x,this.positions[e+1]=t.position.y,this.positions[e+2]=t.position.z,this.positions[e+3]=t.position.x+t.width,this.positions[e+4]=t.position.y,this.positions[e+5]=t.position.z,this.positions[e+6]=t.position.x,this.positions[e+7]=t.position.y+t.height,this.positions[e+8]=t.position.z,this.positions[e+9]=t.position.x+t.width,this.positions[e+10]=t.position.y+t.height,this.positions[e+11]=t.position.z;var d=this.index*r;this.indices[d+0]=4*this.index+0,this.indices[d+1]=4*this.index+2,this.indices[d+2]=4*this.index+1,this.indices[d+3]=4*this.index+1,this.indices[d+4]=4*this.index+2,this.indices[d+5]=4*this.index+3;var u=this.index*o;this.uv[u+0]=0,this.uv[u+1]=0,this.uv[u+2]=1,this.uv[u+3]=0,this.uv[u+4]=0,this.uv[u+5]=1,this.uv[u+6]=1,this.uv[u+7]=1;var p=this.index*h;return this.tiles[p+0]=this.tiles[p+4]=this.tiles[p+8]=this.tiles[p+12]=l.normalRect.x,this.tiles[p+1]=this.tiles[p+5]=this.tiles[p+9]=this.tiles[p+13]=l.normalRect.y,this.tiles[p+2]=this.tiles[p+6]=this.tiles[p+10]=this.tiles[p+14]=l.normalRect.width,this.tiles[p+3]=this.tiles[p+7]=this.tiles[p+11]=this.tiles[p+15]=l.normalRect.height,this.minIndex=Math.min(this.minIndex,this.index),this.maxIndex=Math.max(this.maxIndex,this.index),{index:this.index++,name:a}},a.prototype.remove=function(t){for(var e=t.index*n,i=0;n>i;i++)this.positions[e+i]=s;this.spriteSheet.remove(t.name),this.minIndex=Math.min(this.minIndex,t.index),this.maxIndex=Math.max(this.maxIndex,t.index),this.index>t.index&&(this.index=t.index)},a.prototype.draw=function(){this.minIndex=this.minIndex==i?0:this.minIndex;var t=this.maxIndex!=this.minIndex,e=n;this.positionsAttribute.updateRange.offset=this.minIndex*e,this.positionsAttribute.updateRange.count=this.maxIndex*e+e-this.minIndex*e,this.positionsAttribute.needsUpdate=t;var s=r;this.indicesAttribute.updateRange.offset=this.minIndex*s,this.indicesAttribute.updateRange.count=this.maxIndex*s+s-this.minIndex*s,this.indicesAttribute.needsUpdate=t;var a=o;this.uvAttribute.updateRange.offset=this.minIndex*a,this.uvAttribute.updateRange.count=this.maxIndex*a+a-this.minIndex*a,this.uvAttribute.needsUpdate=t;var l=h;this.tilesAttribute.updateRange.offset=this.minIndex*l,this.tilesAttribute.updateRange.count=this.maxIndex*l+l-this.minIndex*l,this.tilesAttribute.needsUpdate=t,t&&(this.geometry.computeBoundingBox(),this.geometry.computeBoundingSphere()),this.minIndex=i,this.maxIndex=0},window.SpriteRenderer=a}(),function(){var t=function(t){this.name=t.name;var e=t.x,i=t.y,s=t.width,n=t.height;this.rect=new Rectangle(e,i,s,n)};t.prototype.computeNormal=function(t,e){return this.normalRect=this.rect.getNormalizedRect(t,e),this};var e=function(e,i){this.texture=e,this.sprites={};for(var s=0;s<i.length;s++)this.sprites[i[s].name]=new t(i[s]).computeNormal(e.image.width,e.image.height)};e.prototype.get=function(t){return this.sprites[t]},window.SpriteSheet=e}(),function(){var t=function(){for(var t=document.createElement("div"),e=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],i=0;i<e.length;i++){var s=e[i];if(void 0!==t.style[s])return s}return e[0]}(),e=function(){this.camera=new THREE.OrthographicCamera(0,255,0,255,-3e3,3e3),this.camera.position.z=1e3,this.scene=new THREE.Scene,this.sceneMask=new THREE.Scene,this.renderer=new THREE.WebGLRenderer({alpha:!0,antialiasing:!0,clearColor:0,clearAlpha:0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.autoClear=!1,this.context=this.renderer.context,this.animationFrame=null,this.objectRenderers=[],this.numMasks=0,this.update=function(){var e=this.map,i=e.getBounds(),s=new google.maps.LatLng(i.getNorthEast().lat(),i.getSouthWest().lng()),n=this.renderer.domElement,r=this.getProjection().fromLatLngToDivPixel(s);n.style[t]="translate("+Math.round(r.x)+"px,"+Math.round(r.y)+"px)";var o=e.getDiv(),h=o.clientWidth,a=o.clientHeight;(h!==this.width||a!==this.height)&&(this.width=h,this.height=a,this.renderer.setSize(h,a));var l=e.getZoom(),d=Math.pow(2,l),u=e.getProjection().fromLatLngToPoint(s);this.camera.position.x=u.x,this.camera.position.y=u.y,this.scale=l,this.camera.scale.x=this.width/256/d,this.camera.scale.y=this.height/256/d},this.draw=function(){cancelAnimationFrame(this.animationFrame),this.animationFrame=requestAnimationFrame(this.deferredRender.bind(this))},this.deferredRender=function(){this.update();var t=this.context,e=(this.renderer,this.numMasks>0);e&&(t.colorMask(!1,!1,!1,!1),t.depthMask(!1),t.enable(t.STENCIL_TEST),t.stencilOp(t.REPLACE,t.REPLACE,t.REPLACE),t.stencilFunc(t.ALWAYS,0,4294967295),t.clearStencil(1),this.renderer.render(this.sceneMask,this.camera,null,!0),t.colorMask(!0,!0,!0,!0),t.depthMask(!0),t.stencilFunc(t.EQUAL,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP));for(var i=0;i<this.objectRenderers.length;i++)this.objectRenderers[i].draw();this.renderer.render(this.scene,this.camera,null,!e),e&&t.disable(t.STENCIL_TEST),this.dispatchEvent({type:"render"})}};e.prototype=_.extend(new google.maps.OverlayView,new THREE.EventDispatcher),e.prototype.constructor=e,e.prototype.onAdd=function(){this.getPanes().overlayLayer.appendChild(this.renderer.domElement),this.addEventListeners(),this.dispatchEvent({type:"added_to_dom"})},e.prototype.onRemove=function(){this.renderer.domElement;this.canvas.parentElement.removeChild(this.canvas),this.removeEventListeners(),this.dispatchEvent({type:"removed_from_dom"})},e.prototype.init=function(){return this.pointRenderer=new PointRenderer(this).init(),this.scene.add(this.pointRenderer.sceneObject),this.spriteRenderer=(new SpriteRenderer).init(),this.scene.add(this.spriteRenderer.sceneObject),this.polygonRenderer=(new PolygonRenderer).init(),this.objectRenderers.push(this.pointRenderer),this.objectRenderers.push(this.polygonRenderer),this.objectRenderers.push(this.spriteRenderer),this},e.prototype.addEventListeners=function(){this.changeHandler=google.maps.event.addListener(this.map,"bounds_changed",this.draw.bind(this))},e.prototype.removeEventListeners=function(){google.maps.event.removeListener(this.changeHandler),this.changeHandler=null},e.prototype.addObject=function(t){this.scene.add(t)},e.prototype.removeObject=function(t){this.scene.remove(t)},e.prototype.addPoint=function(t){return this.pointRenderer.add(t)},e.prototype.removePoint=function(t){this.pointRenderer.remove(t)},e.prototype.addSprite=function(t){return this.spriteRenderer.add(t)},e.prototype.removeSprite=function(t){this.spriteRenderer.remove(t)},e.prototype.createGeometry=function(t){var e=this.polygonRenderer.create(t,this.scene);return null!==e&&this.addGeometry(e),e},e.prototype.addGeometry=function(t){this.scene.add(t.shape),this.scene.add(t.outline)},e.prototype.removeGeometry=function(t){this.scene.remove(t.shape),this.scene.remove(t.outline)},e.prototype.destroyGeometry=function(t){delete t.shape,delete t.outline},e.prototype.createMask=function(t){var e=this.polygonRenderer.create(t);return null!==e&&(this.addMask(e),this.numMasks++),e},e.prototype.addMask=function(t){this.sceneMask.add(t.shape),this.sceneMask.add(t.outline),this.numMasks++},e.prototype.removeMask=function(t){this.sceneMask.remove(t.shape),this.sceneMask.remove(t.outline),this.numMasks--},e.prototype.destroyMask=function(t){delete t.shape,delete t.outline},window.WebGLView=e}(),function(){var t={};t.get=function(t,e){var i=Q.defer(),s=e.responseType;if("blob"===s)var n=$("<img />").attr("src",t).on("load",function(){i.resolve({data:n[0]})});else $.ajax(t,e).success(function(t,e,s){i.resolve({data:t,status:e,xhr:s})}).error(function(t,e,s){i.reject({xhr:t,status:e,error:s})});return i.promise},window.http=t}(),function(){function t(t,i,s){var n=s.fromLatLngToPoint(t),r={x:n.x*Math.pow(2,i),y:n.y*Math.pow(2,i)},o={x:Math.floor(r.x/e),y:Math.floor(r.y/e)};return o}var e=256,i=function(t){this.webGlView=t,this.bounds=new Rectangle(0,0,0,0),this.zoom=0,this.minZoom=0,this.maxZoom=10,this.enabled=!1,this.views=[]};i.prototype.setMap=function(t){return t?(this.map=t,this.update(),this._addEventListeners()):(this._removeEventListeners(),this.map=t),this},i.prototype.addView=function(t){var i=this.views.indexOf(t);0>i&&this.views.push(t);var s=this.bounds;return t.setTileSize(e),t.showTiles(s.ulx,s.uly,s.lrx,s.lry,this.zoom),this},i.prototype.removeView=function(t){var e=this.views.indexOf(t);return e>=0&&this.views.splice(e,1),t.clear(),this},i.prototype._addEventListeners=function(){this.changeListener=google.maps.event.addListener(this.map,"bounds_changed",this.update.bind(this))},i.prototype._removeEventListeners=function(){google.maps.event.removeListener(this.changeListener)},i.prototype.hasChangedZoom=function(t){return this.zoom!=t},i.prototype.hasChangedBounds=function(t){var e=this.bounds;return e.ulx!=t.ulx||e.uly!=t.uly||e.lrx!=t.lrx||e.lry!=t.lry},i.prototype.update=function(){var e=this.map,i=e.getBounds(),s=i.getNorthEast(),n=i.getSouthWest(),r=new google.maps.LatLng(s.lat(),n.lng()),o=new google.maps.LatLng(n.lat(),s.lng()),h=e.getZoom(),a=e.getProjection(),l=t(r,h,a),d=t(o,h,a),u=new Rectangle(l.x,l.y,d.x-l.x,d.y-l.y);h=Math.max(this.minZoom,h),h=Math.min(this.maxZoom,h);var p=this.bounds,c=Math.min(p.ulx,u.ulx),m=Math.min(p.uly,u.uly),y=Math.max(p.lrx,u.lrx)-c,f=Math.max(p.lry,u.lry)-m,g=new Rectangle(c,m,y,f);this.hasChangedZoom(h)&&(this.updateTiles(p,p,new Rectangle(-1,-1,0,0),this.zoom),p=new Rectangle(-1,-1,0,0),g=u),this.hasChangedBounds(u)&&this.updateTiles(g,p,u,h)},i.prototype.updateTiles=function(t,e,i,s){for(var n=this.views,r=0;r<n.length;r++){for(var o=t.ulx;o<=t.lrx;o++)for(var h=t.uly;h<=t.lry;h++)i.containsPoint(o,h)?e.containsPoint(o,h)||n[r].showTile(o,h,s):e.containsPoint(o,h)&&n[r].hideTile(o,h,s);this.webGlView.draw()}this.zoom=s,this.bounds=i},window.TileController=i}(),function(){var t=function(t,e){this.url=t,this.projection=e,this.fileExtension="json",this.responseType="json"};t.prototype.parse=function(t){var e=[];if(t)if("FeatureCollection"==t.type)for(var i=t.features,s=0;s<i.length;s++)e.push(this._parseFeature(i[s]));else"Feature"==t.type&&e.push(this._parseFeature(t));return e},t.prototype._parseFeature=function(t){var e=[];if("Polygon"==t.geometry.type)e.push(this._parsePolygon(t.geometry.coordinates));else if("MultiPolygon"==t.geometry.type)for(var i=t.geometry.coordinates,s=0;s<i.length;s++)e.push(this._parsePolygon(i[s]));return e},t.prototype._parsePolygon=function(t){for(var e=[],i=0;i<t.length;i++){for(var s=[],n=0;n<t[i].length;n++){var r=new google.maps.LatLng(t[i][n][1],t[i][n][0]),o=this.projection.fromLatLngToPoint(r);s.push([o.x,o.y])}e.push(s)}return e},window.GeoJSONDataSource=t}(),function(){var t=function(t){this.url=t,this.fileExtension="png",this.responseType="blob"};t.prototype.parse=function(t){return t},window.ImageDataSource=t}(),function(){var t=function(t,e,i){this.dataSource=t,this.$http=e,this.$q=i,this.tiles={}};t.prototype.getTileUrl=function(t,e,i){return this.dataSource.url+"/"+i+"/"+t+"/"+e+"."+this.dataSource.fileExtension},t.prototype.getTile=function(t,e,i){var s=this.$q.defer(),n=this.getTileUrl(t,e,i);if(this.tiles[n])s.resolve({url:n,data:this.tiles[n]});else{var r=this;this.$http.get(n,{responseType:this.dataSource.responseType}).then(function(t){r.tiles[n]=r.dataSource.parse(t.data),s.resolve({url:n,data:r.tiles[n]})},function(t){s.reject(t)})}return s.promise},window.TileProvider=t}(),function(){var t=function(t,e){this.tileProvider=t,this.webGlView=e,this.tiles={}};t.prototype.setTileSize=function(t){this.tileSize=t},t.prototype.showTiles=function(t,e,i,s,n){for(var r=t;i>=r;r++)for(var o=e;s>=o;o++)this.showTile(r,o,n);this.webGlView.draw()},t.prototype.showTile=function(t,e,i){var s=this.tileProvider.getTileUrl(t,e,i);if(this.tiles[s]){if(!this.tiles[s].geometry){var n=Math.pow(2,i),r=this.tileSize/n,o={position:{x:t*r,y:e*r,z:i},width:r,height:r,image:this.tiles[s].data,imageName:s};this.tiles[s].geometry=this.webGlView.addSprite(o),this.webGlView.draw()}}else{var h=this;this.tileProvider.getTile(t,e,i).then(function(n){h.tiles[s]=n;var r=Math.pow(2,i),o=h.tileSize/r,a={position:{x:t*o,y:e*o,z:i},width:o,height:o,image:h.tiles[s].data,imageName:s};h.tiles[s].geometry=h.webGlView.addSprite(a),h.webGlView.draw()},function(t){})}},t.prototype.hideTile=function(t,e,i){var s=this.tileProvider.getTileUrl(t,e,i);this.tiles[s]&&this.tiles[s].geometry&&(this.webGlView.removeSprite(this.tiles[s].geometry),this.tiles[s].geometry=null)},t.prototype.clear=function(){for(var t in this.tiles)this.tiles[t].geometry&&(this.webGlView.removeSprite(this.tiles[t].geometry),this.tiles[t].geometry=null);this.webGlView.draw()},window.ImageTileView=t}(),function(){function t(){return(255&Math.floor(255*Math.random()))<<16|(255&Math.floor(255*Math.random()))<<8|255&Math.floor(255*Math.random())}var e=function(t,e,i){this.tileProvider=t,this.webGlView=e,this.tiles={},this.shownTiles={},this.useRandomColors=i};e.prototype.setTileSize=function(t){this.tileSize=t},e.prototype.setTileSize=function(t){this.tileSize=t},e.prototype.showTiles=function(t,e,i,s,n){for(var r=t;i>=r;r++)for(var o=e;s>=o;o++)this.showTile(r,o,n);this.webGlView.draw()},e.prototype.showTile=function(e,i,s){var n=this.tileProvider.getTileUrl(e,i,s);if(!this.shownTiles[n])if(this.shownTiles[n]=!0,this.tiles[n]){if(this.tiles[n].geometry)this.webGlView.addGeometry(this.tiles[n].geometry);else if(this.tiles[n].data){var r={};r.features=this.tiles[n].data,r.fillColor=this.useRandomColors?t():null,this.tiles[n].geometry=this.webGlView.createGeometry(r),this.webGlView.draw()}}else{var o=this;this.tileProvider.getTile(e,i,s).then(function(e){if(o.tiles[n]=e,o.shownTiles[n]){var i={};i.features=o.tiles[n].data,i.fillColor=o.useRandomColors?t():null,o.tiles[n].geometry=o.webGlView.createGeometry(i),o.webGlView.draw()}},function(t){console.log(t)})}},e.prototype.hideTile=function(t,e,i){var s=this.tileProvider.getTileUrl(t,e,i);this.shownTiles[s]=!1,this.tiles[s]&&this.tiles[s].geometry&&(this.webGlView.removeGeometry(this.tiles[s].geometry),delete this.tiles[s].geometry,this.tiles[s].geometry=null)},e.prototype.clear=function(){for(var t in this.tiles)this.tiles[t].geometry&&this.webGlView.removeGeometry(this.tiles[t].geometry);this.webGlView.draw()},window.VectorTileView=e}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJnZW9tcy9yZWN0YW5nbGUuanMiLCJncmFwaGljcy9keW5hbWljX3Nwcml0ZXNoZWV0LmpzIiwiZ3JhcGhpY3Mvb2JqZWN0X3JlbmRlcmVyLmpzIiwiZ3JhcGhpY3MvcG9pbnRfcmVuZGVyZXIuanMiLCJncmFwaGljcy9wb2x5Z29uX3JlbmRlcmVyLmpzIiwiZ3JhcGhpY3Mvc3ByaXRlX3JlbmRlcmVyLmpzIiwiZ3JhcGhpY3Mvc3ByaXRlc2hlZXQuanMiLCJncmFwaGljcy93ZWJnbF92aWV3LmpzIiwidXRpbHMvaHR0cHJlcXVlc3RzLmpzIiwiZ2lzL2NvbnRyb2xsZXJzL3RpbGVfY29udHJvbGxlci5qcyIsImdpcy9kYXRhc291cmNlcy9nZW9qc29uX2RhdGFzb3VyY2UuanMiLCJnaXMvZGF0YXNvdXJjZXMvaW1hZ2VfZGF0YXNvdXJjZS5qcyIsImdpcy9kYXRhc291cmNlcy90aWxlX3Byb3ZpZGVyLmpzIiwiZ2lzL3ZpZXdzL2ltYWdlX3RpbGVfdmlldy5qcyIsImdpcy92aWV3cy92ZWN0b3JfdGlsZV92aWV3LmpzIl0sIm5hbWVzIjpbImNhcnRlIiwiUmVjdGFuZ2xlIiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsInRoaXMiLCJ1bHgiLCJ1bHkiLCJscngiLCJscnkiLCJwcm90b3R5cGUiLCJjb250YWluc1BvaW50IiwiY29udGFpbnNSZWN0IiwicmVjdCIsImNvbnRhaW5zRGltZW5zaW9ucyIsImdldE5vcm1hbGl6ZWRSZWN0IiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJ3aW5kb3ciLCJTcHJpdGVOb2RlIiwibmFtZSIsImltYWdlIiwiY2hpbGQiLCJjb21wdXRlTm9ybWFsIiwibm9ybWFsUmVjdCIsImluc2VydCIsIm5ld05vZGUiLCJsZW5ndGgiLCJkVyIsImRIIiwiZ2V0Iiwibm9kZSIsImNsZWFyIiwiRHluYW1pY1Nwcml0ZVNoZWV0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY29udGV4dCIsImdldENvbnRleHQiLCJ0ZXh0dXJlIiwiVEhSRUUiLCJUZXh0dXJlIiwibWluRmlsdGVyIiwiTmVhcmVzdEZpbHRlciIsIm1hZ0ZpbHRlciIsImZsaXBZIiwicG5vZGUiLCJFdmVudERpc3BhdGNoZXIiLCJjb25zdHJ1Y3RvciIsImFkZCIsInVuZGVmaW5lZCIsImRyYXdJbWFnZSIsIm5lZWRzVXBkYXRlIiwiZGlzcGF0Y2hFdmVudCIsInR5cGUiLCJyZW1vdmUiLCJjbGVhclJlY3QiLCJsb2FkIiwidXJsIiwiT2JqZWN0UmVuZGVyZXIiLCJpbml0IiwiZHJhdyIsInVwZGF0ZSIsImNyZWF0ZSIsIm9wdGlvbnMiLCJvYmplY3QiLCJkZXN0cm95IiwidnNoYWRlciIsInRvU3RyaW5nIiwibWF0Y2giLCJmc2hhZGVyIiwiTUFYX0NPVU5UIiwiTWF0aCIsInBvdyIsIlNUQVJUX1ZBTFVFIiwiTWFya2VyIiwiT2JqZWN0IiwiUG9pbnRSZW5kZXJlciIsIndlYkdsVmlldyIsInBvaW50U2l6ZSIsInJheWNhc3RlciIsIlJheWNhc3RlciIsIm1vdXNlIiwiVmVjdG9yMiIsIm1hcmtlcnMiLCJob3ZlcmVkTWFya2VyIiwibWluSW5kZXgiLCJtYXhJbmRleCIsImluZGV4IiwicG9zaXRpb25zIiwiRmxvYXQzMkFycmF5IiwiZmlsbCIsInBvc2l0aW9uc0F0dHJpYnV0ZSIsIkJ1ZmZlckF0dHJpYnV0ZSIsInNldER5bmFtaWMiLCJjb2xvcnMiLCJjb2xvcnNBdHRyaWJ1dGUiLCJ0aWxlcyIsInRpbGVzQXR0cmlidXRlIiwiZ2VvbWV0cnkiLCJCdWZmZXJHZW9tZXRyeSIsImFkZEF0dHJpYnV0ZSIsInNwcml0ZVNoZWV0IiwibWF0ZXJpYWwiLCJTaGFkZXJNYXRlcmlhbCIsInVuaWZvcm1zIiwidGV4MSIsInZhbHVlIiwidmVydGV4Q29sb3JzIiwiVmVydGV4Q29sb3JzIiwidmVydGV4U2hhZGVyIiwiZnJhZ21lbnRTaGFkZXIiLCJ0cmFuc3BhcmVudCIsImRlcHRoV3JpdGUiLCJkZXB0aFRlc3QiLCJzY2VuZU9iamVjdCIsIlBvaW50cyIsInJheWNhc3RPYmplY3RzIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlRG9jdW1lbnRNb3VzZU1vdmUiLCJiaW5kIiwiaGFuZGxlRG9jdW1lbnRNb3VzZUNsaWNrIiwiZXZlbnQiLCJfY3JlYXRlTWFya2VyIiwibWFya2VyIiwiYXJyYXlJbmRleCIsImNvbnNvbGUiLCJsb2ciLCJwb3NpdGlvbiIsInoiLCJjb2xvciIsInIiLCJnIiwiYiIsInNwcml0ZSIsImltYWdlTmFtZSIsInNwcml0ZVJlY3QiLCJtaW4iLCJtYXgiLCJ1cGRhdGVSYW5nZSIsIm9mZnNldCIsImNvdW50IiwiY29tcHV0ZUJvdW5kaW5nQm94IiwiY29tcHV0ZUJvdW5kaW5nU3BoZXJlIiwiY2xpZW50WCIsImNsaWVudFkiLCJwYXJhbXMiLCJ0aHJlc2hvbGQiLCJzY2FsZSIsInNldEZyb21DYW1lcmEiLCJjYW1lcmEiLCJpbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0T2JqZWN0cyIsImludGVyc2VjdGlvbiIsIlBvbHlnb25SZW5kZXJlciIsImZlYXR1cmVzIiwiZmlsbENvbG9yIiwic3Ryb2tlQ29sb3IiLCJHZW9tZXRyeSIsIm91dGxpbmUiLCJ2ZXJ0ZXhPZmZzZXQiLCJ2ZXJ0aWNlcyIsIm51bVBvbHlnb25zIiwiaSIsImZlYXR1cmUiLCJqIiwicG9seWdvbiIsInAiLCJsb29wIiwicG9pbnRzIiwiaG9sZUluZGljZXMiLCJob2xlSW5kZXgiLCJsIiwiY29vcmRpbmF0ZSIsInBvaW50IiwicHVzaCIsInZlcnRleCIsIlZlY3RvcjMiLCJ2ZXJ0ZXgxIiwiY29vcmQwIiwicG9pbnQwIiwidmVydGV4MCIsInRyaXMiLCJlYXJjdXQiLCJrIiwiZmFjZSIsIkZhY2UzIiwiZmFjZXMiLCJjb3ZlcmFnZVBvbHlnb24iLCJNZXNoIiwiTWVzaEJhc2ljTWF0ZXJpYWwiLCJvcGFjaXR5Iiwib3V0bGluZVBvbHlnb24iLCJMaW5lU2VnbWVudHMiLCJMaW5lQmFzaWNNYXRlcmlhbCIsImxpbmV3aWR0aCIsInNoYXBlIiwiUE9TSVRJT05fSU5URVJWQUwiLCJJTkRFWF9JTlRFUlZBTCIsIlVWX0lOVEVSVkFMIiwiVElMRV9JTlRFUlZBTCIsIlNwcml0ZVJlbmRlcmVyIiwic3ByaXRlcyIsImluZGljZXMiLCJVaW50MTZBcnJheSIsImluZGljZXNBdHRyaWJ1dGUiLCJ1diIsInV2QXR0cmlidXRlIiwic2V0SW5kZXgiLCJhbHBoYSIsInBvc2l0aW9uSW5kZXgiLCJpY29uIiwidXZJbmRleCIsInQiLCJ1IiwiU3ByaXRlIiwiZGF0YSIsIlNwcml0ZVNoZWV0Iiwic3ByaXRlTmFtZSIsIkNTU19UUkFOU0ZPUk0iLCJkaXYiLCJwcm9wcyIsInByb3AiLCJzdHlsZSIsIldlYkdMVmlldyIsIk9ydGhvZ3JhcGhpY0NhbWVyYSIsInNjZW5lIiwiU2NlbmUiLCJzY2VuZU1hc2siLCJyZW5kZXJlciIsIldlYkdMUmVuZGVyZXIiLCJhbnRpYWxpYXNpbmciLCJjbGVhckNvbG9yIiwiY2xlYXJBbHBoYSIsInNldFBpeGVsUmF0aW8iLCJkZXZpY2VQaXhlbFJhdGlvIiwiYXV0b0NsZWFyIiwiYW5pbWF0aW9uRnJhbWUiLCJvYmplY3RSZW5kZXJlcnMiLCJudW1NYXNrcyIsIm1hcCIsImJvdW5kcyIsImdldEJvdW5kcyIsInRvcExlZnQiLCJnb29nbGUiLCJtYXBzIiwiTGF0TG5nIiwiZ2V0Tm9ydGhFYXN0IiwibGF0IiwiZ2V0U291dGhXZXN0IiwibG5nIiwiZG9tRWxlbWVudCIsImdldFByb2plY3Rpb24iLCJmcm9tTGF0TG5nVG9EaXZQaXhlbCIsInJvdW5kIiwiZ2V0RGl2IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJzZXRTaXplIiwiem9vbSIsImdldFpvb20iLCJmcm9tTGF0TG5nVG9Qb2ludCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZGVmZXJyZWRSZW5kZXIiLCJtYXNrRW5hYmxlZCIsImNvbG9yTWFzayIsImRlcHRoTWFzayIsImVuYWJsZSIsIlNURU5DSUxfVEVTVCIsInN0ZW5jaWxPcCIsIlJFUExBQ0UiLCJzdGVuY2lsRnVuYyIsIkFMV0FZUyIsImNsZWFyU3RlbmNpbCIsInJlbmRlciIsIkVRVUFMIiwiS0VFUCIsImRpc2FibGUiLCJfIiwiZXh0ZW5kIiwiT3ZlcmxheVZpZXciLCJvbkFkZCIsImdldFBhbmVzIiwib3ZlcmxheUxheWVyIiwiYXBwZW5kQ2hpbGQiLCJvblJlbW92ZSIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwicG9pbnRSZW5kZXJlciIsInNwcml0ZVJlbmRlcmVyIiwicG9seWdvblJlbmRlcmVyIiwiY2hhbmdlSGFuZGxlciIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJhZGRPYmplY3QiLCJyZW1vdmVPYmplY3QiLCJhZGRQb2ludCIsInJlbW92ZVBvaW50IiwiYWRkU3ByaXRlIiwicmVtb3ZlU3ByaXRlIiwiY3JlYXRlR2VvbWV0cnkiLCJhZGRHZW9tZXRyeSIsInJlbW92ZUdlb21ldHJ5IiwiZGVzdHJveUdlb21ldHJ5IiwiY3JlYXRlTWFzayIsIm1hc2siLCJhZGRNYXNrIiwicmVtb3ZlTWFzayIsImRlc3Ryb3lNYXNrIiwiaHR0cCIsImRlZmVycmVkIiwiUSIsImRlZmVyIiwicmVzcG9uc2VUeXBlIiwiJCIsImF0dHIiLCJvbiIsInJlc29sdmUiLCJhamF4Iiwic3VjY2VzcyIsInN0YXR1cyIsInhociIsImVycm9yIiwicmVqZWN0IiwicHJvbWlzZSIsImNvbnZlcnRQb2ludFRvVGlsZSIsImxhdExuZyIsInByb2plY3Rpb24iLCJ3b3JsZENvb3JkaW5hdGUiLCJwaXhlbENvb3JkaW5hdGUiLCJ0aWxlQ29vcmRpbmF0ZSIsImZsb29yIiwiTUVSQ0FUT1JfUkFOR0UiLCJUaWxlQ29udHJvbGxlciIsIm1pblpvb20iLCJtYXhab29tIiwiZW5hYmxlZCIsInZpZXdzIiwic2V0TWFwIiwiX2FkZEV2ZW50TGlzdGVuZXJzIiwiX3JlbW92ZUV2ZW50TGlzdGVuZXJzIiwiYWRkVmlldyIsInZpZXciLCJpbmRleE9mIiwic2V0VGlsZVNpemUiLCJzaG93VGlsZXMiLCJyZW1vdmVWaWV3Iiwic3BsaWNlIiwiY2hhbmdlTGlzdGVuZXIiLCJoYXNDaGFuZ2VkWm9vbSIsImhhc0NoYW5nZWRCb3VuZHMiLCJ2aXNpYmxlQm91bmRzIiwiY3VycmVudEJvdW5kcyIsImJvdW5kc05lTGF0TG5nIiwiYm91bmRzU3dMYXRMbmciLCJib3VuZHNOd0xhdExuZyIsImJvdW5kc1NlTGF0TG5nIiwidGlsZUNvb3JkaW5hdGVOdyIsInRpbGVDb29yZGluYXRlU2UiLCJyYW5nZSIsInVwZGF0ZVRpbGVzIiwiY29sdW1uIiwicm93Iiwic2hvd1RpbGUiLCJoaWRlVGlsZSIsIkdlb0pTT05EYXRhU291cmNlIiwiZmlsZUV4dGVuc2lvbiIsInBhcnNlIiwiZmVhdHVyZUNvbGxlY3Rpb24iLCJfcGFyc2VGZWF0dXJlIiwicG9seWdvbnMiLCJfcGFyc2VQb2x5Z29uIiwiY29vcmRpbmF0ZXMiLCJJbWFnZURhdGFTb3VyY2UiLCJUaWxlUHJvdmlkZXIiLCJkYXRhU291cmNlIiwiJGh0dHAiLCIkcSIsImdldFRpbGVVcmwiLCJnZXRUaWxlIiwic2VsZiIsInRoZW4iLCJyZXNwb25zZSIsInJlYXNvbiIsIkltYWdlVGlsZVZpZXciLCJ0aWxlUHJvdmlkZXIiLCJ0aWxlU2l6ZSIsInNjYWxlRmFjdG9yIiwic3ByaXRlU2l6ZSIsInNwcml0ZU9wdGlvbnMiLCJnZXRSYW5kb21Db2xvciIsInJhbmRvbSIsIlZlY3RvclRpbGVWaWV3IiwidXNlUmFuZG9tQ29sb3JzIiwic2hvd25UaWxlcyJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBQUEsV0NEQSxXQUNBLEdBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQUMsS0FBQUosRUFBQUEsRUFDQUksS0FBQUgsRUFBQUEsRUFDQUcsS0FBQUYsTUFBQUEsRUFDQUUsS0FBQUQsT0FBQUEsRUFDQUMsS0FBQUMsSUFBQUwsRUFDQUks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QU4sUUFBQTdYLEVBQUFDLEVBQUFnSSxHQUNBOFAsS0FBQSxTQUFBQyxHQUVBLEdBREFGLEVBQUE5UixNQUFBdkMsR0FBQXVVLEVBQ0FGLEVBQUFjLFdBQUFuVixHQUFBLENBQ0EsR0FBQU0sS0FDQUEsR0FBQTRGLFNBQUFtTyxFQUFBOVIsTUFBQXZDLEdBQUErSixLQUNBekosRUFBQTZGLFVBQUFrTyxFQUFBYSxnQkFBQUgsSUFBQSxLQUNBVixFQUFBOVIsTUFBQXZDLEdBQUF5QyxTQUFBNFIsRUFBQWpULFVBQUFpTyxlQUFBL08sR0FDQStULEVBQUFqVCxVQUFBakIsU0FFQSxTQUFBcVUsR0FDQW5RLFFBQUFDLElBQUFrUSxPQUtBUyxFQUFBalksVUFBQXFXLFNBQUEsU0FBQTlXLEVBQUFDLEVBQUFnSSxHQUNBLEdBQUF4RSxHQUFBckQsS0FBQStYLGFBQUFQLFdBQUE1WCxFQUFBQyxFQUFBZ0ksRUFFQTdILE1BQUF3WSxXQUFBblYsSUFBQSxFQUVBckQsS0FBQTRGLE1BQUF2QyxJQUFBckQsS0FBQTRGLE1BQUF2QyxHQUFBeUMsV0FDQTlGLEtBQUF5RSxVQUFBbU8sZUFBQTVTLEtBQUE0RixNQUFBdkMsR0FBQXlDLGdCQUNBOUYsTUFBQTRGLE1BQUF2QyxHQUFBeUMsU0FDQTlGLEtBQUE0RixNQUFBdkMsR0FBQXlDLFNBQUEsT0FJQXdTLEVBQUFqWSxVQUFBc0IsTUFBQSxXQUNBLElBQUEsR0FBQTBCLEtBQUFyRCxNQUFBNEYsTUFDQTVGLEtBQUE0RixNQUFBdkMsR0FBQXlDLFVBQ0E5RixLQUFBeUUsVUFBQW1PLGVBQUE1UyxLQUFBNEYsTUFBQXZDLEdBQUF5QyxTQUVBOUYsTUFBQXlFLFVBQUFqQixRQUdBM0MsT0FBQXlYLGVBQUFBIiwiZmlsZSI6ImNhcnRlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGRlY2xhcmUgcGFja2FnZSBuYW1lc1xudmFyIGNhcnRlID0ge307IiwiKGZ1bmN0aW9uKCl7XG5cdHZhciBSZWN0YW5nbGUgPSBmdW5jdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXHRcdHRoaXMud2lkdGggPSB3aWR0aDtcblx0XHR0aGlzLmhlaWdodCA9IGhlaWdodDtcblx0XHR0aGlzLnVseCA9IHg7XG5cdFx0dGhpcy51bHkgPSB5O1xuXHRcdHRoaXMubHJ4ID0geCt3aWR0aDtcblx0XHR0aGlzLmxyeSA9IHkrd2lkdGg7XG5cdH07XG5cblx0UmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24oeCwgeSkge1xuXHRcdHJldHVybiB0aGlzLnVseDw9eCAmJiB4PD10aGlzLmxyeCAmJiB0aGlzLnVseTw9eSAmJiB5PD10aGlzLmxyeTtcblx0fTtcblxuXHRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zUmVjdCA9IGZ1bmN0aW9uKHJlY3QpIHtcblx0XHRyZXR1cm4gdGhpcy5jb250YWluc1BvaW50KHJlY3QueCwgcmVjdC55KSAmJiBcblx0XHRcdHRoaXMuY29udGFpbnNQb2ludChyZWN0LngrcmVjdC53aWR0aCwgcmVjdC55K3JlY3QuaGVpZ2h0KTtcblx0fTtcblxuXHRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zRGltZW5zaW9ucyA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0XHRyZXR1cm4gdGhpcy53aWR0aCA+PSB3aWR0aCAmJiB0aGlzLmhlaWdodCA+PSBoZWlnaHQ7XG5cdH07XG5cblx0UmVjdGFuZ2xlLnByb3RvdHlwZS5nZXROb3JtYWxpemVkUmVjdCA9IGZ1bmN0aW9uKG1heFdpZHRoLCBtYXhIZWlnaHQpIHtcblx0XHR2YXIgeCA9IHRoaXMueCAvIG1heFdpZHRoLFxuXHRcdFx0eSA9IHRoaXMueSAvIG1heEhlaWdodCxcblx0XHRcdHdpZHRoID0gdGhpcy53aWR0aCAvIG1heFdpZHRoLFxuXHRcdFx0aGVpZ2h0ID0gdGhpcy5oZWlnaHQgLyBtYXhIZWlnaHQ7XG5cdFx0cmV0dXJuIG5ldyBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG5cdH07XG5cblx0d2luZG93LlJlY3RhbmdsZSA9IFJlY3RhbmdsZTtcbn0oKSk7IiwiKGZ1bmN0aW9uKCl7XG5cdHZhciBTcHJpdGVOb2RlID0gZnVuY3Rpb24ocmVjdCkge1xuXHRcdHRoaXMucmVjdCA9IHJlY3Q7XG5cdFx0dGhpcy5uYW1lID0gXCJzcHJpdGUwXCI7XG5cdFx0dGhpcy5pbWFnZSA9IG51bGw7XG5cdFx0dGhpcy5jaGlsZCA9IFtdO1xuXHR9O1xuXG5cdFNwcml0ZU5vZGUucHJvdG90eXBlLmNvbXB1dGVOb3JtYWwgPSBmdW5jdGlvbihtYXhXaWR0aCwgbWF4SGVpZ2h0KSB7XG5cdFx0dGhpcy5tYXhXaWR0aCA9IG1heFdpZHRoO1xuXHRcdHRoaXMubWF4SGVpZ2h0ID0gbWF4SGVpZ2h0O1xuXHRcdHRoaXMubm9ybWFsUmVjdCA9IHRoaXMucmVjdC5nZXROb3JtYWxpemVkUmVjdChtYXhXaWR0aCwgbWF4SGVpZ2h0KTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogUGVyZm9ybSBtYXggcmVjdCBhbGdvcml0aG0gZm9yIGZpbmRpbmcgd2hlcmUgdG8gZml0IHRoZSBpbWFnZS5cblx0ICogU2FtcGxlIGltcGxlbWVudGF0aW9uIGZvciBsaWdodG1hcHM6IGh0dHA6Ly93d3cuYmxhY2twYXduLmNvbS90ZXh0cy9saWdodG1hcHMvXG5cdCAqL1xuXHRTcHJpdGVOb2RlLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbihuYW1lLCBpbWFnZSkge1xuXHRcdHZhciBuZXdOb2RlID0gbnVsbDtcblx0XHRpZih0aGlzLmltYWdlICE9PSBudWxsKSB7XG5cdFx0XHQvLyB0aGlzIGFscmVhZHkgY29udGFpbnMgYW4gaW1hZ2Ugc28gbGV0J3MgY2hlY2sgaXQncyBjaGlsZHJlblxuXHRcdFx0aWYodGhpcy5jaGlsZC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdG5ld05vZGUgPSB0aGlzLmNoaWxkWzBdLmluc2VydChuYW1lLCBpbWFnZSk7XG5cdFx0XHRcdGlmKG5ld05vZGUgIT09IG51bGwpIHJldHVybiBuZXdOb2RlO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jaGlsZFsxXS5pbnNlcnQobmFtZSwgaW1hZ2UpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gdGhpcyBpcyBhIGxlYWYgbm9kZSBhbmQgYWxyZWFkeSBjb250YWlucyBhbiBpbWFnZSB0aGF0ICdqdXN0IGZpdHMnXG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYodGhpcy5yZWN0LmNvbnRhaW5zRGltZW5zaW9ucyhpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KSkge1xuXHRcdFx0XHRpZih0aGlzLnJlY3Qud2lkdGggPT0gaW1hZ2Uud2lkdGggJiYgdGhpcy5yZWN0LmhlaWdodCA9PSBpbWFnZS5oZWlnaHQpIHtcblx0XHRcdFx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdFx0XHRcdHRoaXMuaW1hZ2UgPSBpbWFnZTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKHRoaXMuY2hpbGQubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdG5ld05vZGUgPSB0aGlzLmNoaWxkWzBdLmluc2VydChuYW1lLCBpbWFnZSk7XG5cdFx0XHRcdFx0aWYobmV3Tm9kZSAhPT0gbnVsbCkgcmV0dXJuIG5ld05vZGU7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuY2hpbGRbMV0uaW5zZXJ0KG5hbWUsIGltYWdlKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YXIgcmVjdCA9IHRoaXMucmVjdDtcblx0XHRcdFx0XHR2YXIgZFcgPSB0aGlzLnJlY3Qud2lkdGggLSBpbWFnZS53aWR0aDtcblx0XHRcdFx0XHR2YXIgZEggPSB0aGlzLnJlY3QuaGVpZ2h0IC0gaW1hZ2UuaGVpZ2h0O1xuXHRcdFx0XHRcdGlmKGRXID4gZEgpIHtcblx0XHRcdFx0XHRcdC8vIHNwbGl0IHRoaXMgcmVjdGFuZ2xlIHZlcnRpY2FsbHkgaW50byB0d28sIGxlZnQgYW5kIHJpZ2h0XG5cdFx0XHRcdFx0XHR0aGlzLmNoaWxkWzBdID0gbmV3IFNwcml0ZU5vZGUobmV3IFJlY3RhbmdsZShyZWN0LngsIHJlY3QueSwgaW1hZ2Uud2lkdGgsIHJlY3QuaGVpZ2h0KSk7XG5cdFx0XHRcdFx0XHR0aGlzLmNoaWxkWzFdID0gbmV3IFNwcml0ZU5vZGUobmV3IFJlY3RhbmdsZShyZWN0LngraW1hZ2Uud2lkdGgsIHJlY3QueSwgZFcsIHJlY3QuaGVpZ2h0KSk7XG5cdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHQvLyBzcGxpdCB0aGlzIHJlY3RhbmdsZSBob3Jpem9udGFsbHkgaW50byB0d28sIG9uZSBhYm92ZSBhbm90aGVyIGJlbG93XG5cdFx0XHRcdFx0XHR0aGlzLmNoaWxkWzBdID0gbmV3IFNwcml0ZU5vZGUobmV3IFJlY3RhbmdsZShyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgaW1hZ2UuaGVpZ2h0KSk7XG5cdFx0XHRcdFx0XHR0aGlzLmNoaWxkWzFdID0gbmV3IFNwcml0ZU5vZGUobmV3IFJlY3RhbmdsZShyZWN0LngsIHJlY3QueStpbWFnZS5oZWlnaHQsIHJlY3Qud2lkdGgsIGRIKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuY2hpbGRbMF0uY29tcHV0ZU5vcm1hbCh0aGlzLm1heFdpZHRoLCB0aGlzLm1heEhlaWdodCk7XG5cdFx0XHRcdFx0dGhpcy5jaGlsZFsxXS5jb21wdXRlTm9ybWFsKHRoaXMubWF4V2lkdGgsIHRoaXMubWF4SGVpZ2h0KTtcblx0XHRcdFx0XHQvLyB0aGlzIGltYWdlIHNob3VsZCBhdXRvbWF0aWNhbGx5IGZpdCB0aGUgZmlyc3Qgbm9kZVxuXHRcdFx0XHRcdHJldHVybiB0aGlzLmNoaWxkWzBdLmluc2VydChuYW1lLCBpbWFnZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdC8vIHRoaXMgd2lsbCBub3QgZml0IHRoaXMgbm9kZVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9O1xuXG5cdFNwcml0ZU5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRpZih0aGlzLm5hbWUgPT0gbmFtZSkgcmV0dXJuIHRoaXM7XG5cdFx0aWYodGhpcy5jaGlsZC5sZW5ndGggPiAwKSB7XG5cdFx0XHR2YXIgbm9kZSA9IHRoaXMuY2hpbGRbMF0uZ2V0KG5hbWUpO1xuXHRcdFx0aWYobm9kZSAhPT0gbnVsbCkgcmV0dXJuIG5vZGU7XG5cdFx0XHRyZXR1cm4gdGhpcy5jaGlsZFsxXS5nZXQobmFtZSk7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9O1xuXG5cdFNwcml0ZU5vZGUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHR2YXIgbm9kZSA9IHRoaXMuZ2V0KG5hbWUpO1xuXHRcdGlmKG5vZGUpIG5vZGUuY2xlYXIoKTtcblx0XHRyZXR1cm4gbm9kZTtcblx0fTtcblxuXHRTcHJpdGVOb2RlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMubmFtZSA9IFwiXCI7XG5cdFx0dGhpcy5pbWFnZSA9IG51bGw7XG5cdH07XG5cblx0dmFyIER5bmFtaWNTcHJpdGVTaGVldCA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0XHR0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXHRcdHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGg7XG5cdFx0dGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG5cdFx0dGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblx0XHRcblx0XHR0aGlzLnRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZSh0aGlzLmNhbnZhcyk7XG5cdFx0dGhpcy50ZXh0dXJlLm1pbkZpbHRlciA9IFRIUkVFLk5lYXJlc3RGaWx0ZXI7XG5cdFx0dGhpcy50ZXh0dXJlLm1hZ0ZpbHRlciA9IFRIUkVFLk5lYXJlc3RGaWx0ZXI7XG5cdFx0dGhpcy50ZXh0dXJlLmZsaXBZID0gZmFsc2U7XG5cblx0XHR0aGlzLnBub2RlID0gbmV3IFNwcml0ZU5vZGUobmV3IFJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KSk7XG5cdFx0dGhpcy5wbm9kZS5jb21wdXRlTm9ybWFsKHdpZHRoLCBoZWlnaHQpO1xuXHR9O1xuXG5cdER5bmFtaWNTcHJpdGVTaGVldC5wcm90b3R5cGUgPSBuZXcgVEhSRUUuRXZlbnREaXNwYXRjaGVyKCk7XG5cdER5bmFtaWNTcHJpdGVTaGVldC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEeW5hbWljU3ByaXRlU2hlZXQ7XG5cblx0RHluYW1pY1Nwcml0ZVNoZWV0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG5cdFx0cmV0dXJuIHRoaXMucG5vZGUuZ2V0KG5hbWUpO1xuXHR9O1xuXG5cdER5bmFtaWNTcHJpdGVTaGVldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24obmFtZSwgaW1hZ2UpIHtcblx0XHRpZihpbWFnZSA9PT0gdW5kZWZpbmVkIHx8IGltYWdlID09PSBudWxsKSByZXR1cm4gbnVsbDtcblx0XHRpZih0aGlzLmdldChuYW1lKSAhPT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cdFx0dmFyIG5vZGUgPSB0aGlzLnBub2RlLmluc2VydChuYW1lLCBpbWFnZSk7XG5cdFx0aWYobm9kZSkge1xuXHRcdFx0dmFyIHJlY3QgPSBub2RlLnJlY3Q7XG5cdFx0XHR0aGlzLmNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCByZWN0LngsIHJlY3QueSk7XG5cdFx0XHR0aGlzLnRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXHRcdFx0dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiAnc3ByaXRlX2FkZGVkJ30pO1xuXHRcdH1cblx0XHRyZXR1cm4gbm9kZTtcblx0fTtcblxuXHREeW5hbWljU3ByaXRlU2hlZXQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHR2YXIgbm9kZSA9IHRoaXMucG5vZGUuZGVsZXRlKG5hbWUpO1xuXHRcdGlmKG5vZGUpIHtcblx0XHRcdHZhciByZWN0ID0gbm9kZS5yZWN0O1xuXHRcdFx0dGhpcy5jb250ZXh0LmNsZWFyUmVjdChyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpO1xuXHRcdFx0dGhpcy50ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblx0XHRcdHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTogJ3Nwcml0ZV9yZW1vdmVkJ30pO1xuXHRcdH1cblx0XHRyZXR1cm4gbm9kZTtcblx0fTtcblxuXHREeW5hbWljU3ByaXRlU2hlZXQucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbihuYW1lLCB1cmwpIHtcblxuXHR9O1xuXG5cdHdpbmRvdy5EeW5hbWljU3ByaXRlU2hlZXQgPSBEeW5hbWljU3ByaXRlU2hlZXQ7XG59KCkpOyIsIihmdW5jdGlvbigpe1xuXHR2YXIgT2JqZWN0UmVuZGVyZXIgPSBmdW5jdGlvbigpIHt9O1xuXG5cdE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7IFxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oKSB7XG5cblx0fTtcblxuXHRPYmplY3RSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XG5cblx0fTtcblxuXHRPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXG5cdH07XG5cblx0T2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuXG5cdH07XG5cblx0T2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKG9iamVjdCkge1xuXG5cdH07XG5cblx0T2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbihvYmplY3QpIHtcblxuXHR9O1xuXG5cdHdpbmRvdy5PYmplY3RSZW5kZXJlciA9IE9iamVjdFJlbmRlcmVyO1xufSgpKTsiLCIoZnVuY3Rpb24oKXtcblx0dmFyIHZzaGFkZXIgPSAoZnVuY3Rpb24gKCkgey8qXG5cdFx0dW5pZm9ybSBmbG9hdCBwb2ludFNpemU7XG5cdFx0YXR0cmlidXRlIHZlYzQgdGlsZTtcblx0XHR2YXJ5aW5nIHZlYzQgdlRpbGU7XG5cdFx0dmFyeWluZyB2ZWMzIHZDb2xvcjtcblxuXHRcdHZvaWQgbWFpbigpIHtcblx0XHRcdHZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XG5cdFx0XHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1xuXHRcdFx0Z2xfUG9pbnRTaXplID0gcG9pbnRTaXplO1xuXHRcdFx0dlRpbGUgPSB0aWxlO1xuXHRcdFx0dkNvbG9yID0gY29sb3I7XG5cdFx0fVxuXHQqL30pLnRvU3RyaW5nKCkubWF0Y2goL1teXSpcXC9cXCooW15dKilcXCpcXC9cXH0kLylbMV07XG5cblx0dmFyIGZzaGFkZXIgPSAoZnVuY3Rpb24gKCkgey8qXG5cdFx0dW5pZm9ybSBzYW1wbGVyMkQgdGV4MTtcblx0XHR1bmlmb3JtIHZlYzIgc3ByaXRlU2l6ZTtcblx0XHR2YXJ5aW5nIHZlYzQgdlRpbGU7XG5cdFx0dmFyeWluZyB2ZWMzIHZDb2xvcjtcblxuXHRcdHZvaWQgbWFpbigpIHtcblx0XHRcdHZlYzIgdGlsZVVWID0gdlRpbGUueHkgKyB2VGlsZS56dyAqIGdsX1BvaW50Q29vcmQ7XG5cdFx0XHRnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodGV4MSwgdGlsZVVWKSAqIHZlYzQodkNvbG9yLnJnYiwgMS4wKTtcblx0XHR9XG5cdCovfSkudG9TdHJpbmcoKS5tYXRjaCgvW15dKlxcL1xcKihbXl0qKVxcKlxcL1xcfSQvKVsxXTtcblxuXHR2YXIgTUFYX0NPVU5UID0gTWF0aC5wb3coMiwzMikgLSAxO1xuXHR2YXIgU1RBUlRfVkFMVUUgPSAtOTk5OTkuMDtcblxuXHR2YXIgTWFya2VyID0gZnVuY3Rpb24oKSB7fTtcblx0TWFya2VyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoVEhSRUUuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSk7XG5cblx0dmFyIFBvaW50UmVuZGVyZXIgPSBmdW5jdGlvbih3ZWJHbFZpZXcpIHtcblx0XHR0aGlzLndlYkdsVmlldyA9IHdlYkdsVmlldztcblx0XHR0aGlzLnBvaW50U2l6ZSA9IDMyLjA7XG5cblx0XHR0aGlzLnJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTtcblx0XHR0aGlzLm1vdXNlID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblx0XHR0aGlzLm1hcmtlcnMgPSB7fTtcblx0XHR0aGlzLmhvdmVyZWRNYXJrZXIgPSBudWxsO1xuXG5cdFx0dGhpcy5taW5JbmRleCA9IE1BWF9DT1VOVDtcblx0XHR0aGlzLm1heEluZGV4ID0gMDtcblx0XHR0aGlzLmluZGV4ID0gMDtcblx0fTtcblxuXHRQb2ludFJlbmRlcmVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5wb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KDEwMDAwMDAgKiAzKTtcblx0XHR0aGlzLnBvc2l0aW9ucy5maWxsKFNUQVJUX1ZBTFVFKTtcblx0XHR0aGlzLnBvc2l0aW9uc0F0dHJpYnV0ZSA9IG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUodGhpcy5wb3NpdGlvbnMsIDMpO1xuXHRcdHRoaXMucG9zaXRpb25zQXR0cmlidXRlLnNldER5bmFtaWModHJ1ZSk7XG5cblx0XHR0aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkoMTAwMDAwMCAqIDMpO1xuXHRcdHRoaXMuY29sb3JzQXR0cmlidXRlID0gbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSh0aGlzLmNvbG9ycywgMyk7XG5cdFx0dGhpcy5jb2xvcnNBdHRyaWJ1dGUuc2V0RHluYW1pYyh0cnVlKTtcblxuXHRcdHRoaXMudGlsZXMgPSBuZXcgRmxvYXQzMkFycmF5KDEwMDAwMDAgKiA0KTsgXG5cdFx0dGhpcy50aWxlc0F0dHJpYnV0ZSA9IG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUodGhpcy50aWxlcywgNCk7IFxuXHRcdHRoaXMudGlsZXNBdHRyaWJ1dGUuc2V0RHluYW1pYyh0cnVlKTtcblxuXHRcdHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcblx0XHR0aGlzLmdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb24nLCB0aGlzLnBvc2l0aW9uc0F0dHJpYnV0ZSk7XG5cdFx0dGhpcy5nZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ2NvbG9yJywgdGhpcy5jb2xvcnNBdHRyaWJ1dGUpO1xuXHRcdHRoaXMuZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCd0aWxlJywgdGhpcy50aWxlc0F0dHJpYnV0ZSk7XG5cblx0XHR0aGlzLnNwcml0ZVNoZWV0ID0gbmV3IER5bmFtaWNTcHJpdGVTaGVldCgyNTYsIDI1Nik7XG5cdFx0dGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCgge1xuXHRcdFx0dW5pZm9ybXM6IHtcblx0XHRcdFx0dGV4MTogeyB0eXBlOiBcInRcIiwgdmFsdWU6IHRoaXMuc3ByaXRlU2hlZXQudGV4dHVyZSB9LFxuXHRcdFx0XHRwb2ludFNpemU6IHsgdHlwZTogXCJmXCIsIHZhbHVlOiB0aGlzLnBvaW50U2l6ZSB9XG5cdFx0XHR9LFxuXHRcdFx0dmVydGV4Q29sb3JzOiBUSFJFRS5WZXJ0ZXhDb2xvcnMsXG5cdFx0XHR2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG5cdFx0XHRmcmFnbWVudFNoYWRlcjogZnNoYWRlcixcblx0XHRcdHRyYW5zcGFyZW50OiB0cnVlLFxuXHRcdFx0ZGVwdGhXcml0ZTogZmFsc2UsXG5cdFx0XHRkZXB0aFRlc3Q6IGZhbHNlXG5cdFx0fSk7XG5cblx0XHR0aGlzLnNjZW5lT2JqZWN0ID0gbmV3IFRIUkVFLlBvaW50cyh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcblx0XHR0aGlzLnJheWNhc3RPYmplY3RzID0gW3RoaXMuc2NlbmVPYmplY3RdO1xuXHRcdHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdFBvaW50UmVuZGVyZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVEb2N1bWVudE1vdXNlTW92ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZURvY3VtZW50TW91c2VDbGljay5iaW5kKHRoaXMpLCBmYWxzZSk7XG5cdH07XG5cblx0UG9pbnRSZW5kZXJlci5wcm90b3R5cGUuaGFuZGxlRG9jdW1lbnRNb3VzZU1vdmUgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdHRoaXMudXBkYXRlKGV2ZW50KTtcblx0fTtcblxuXHRQb2ludFJlbmRlcmVyLnByb3RvdHlwZS5oYW5kbGVEb2N1bWVudE1vdXNlQ2xpY2sgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdHRoaXMudXBkYXRlKGV2ZW50KTtcblx0XHRpZih0aGlzLmhvdmVyZWRNYXJrZXIpIFxuXHRcdFx0dGhpcy5ob3ZlcmVkTWFya2VyLmRpc3BhdGNoRXZlbnQoe3R5cGU6IFwiY2xpY2tcIn0pO1xuXHR9O1xuXG5cdFBvaW50UmVuZGVyZXIucHJvdG90eXBlLl9jcmVhdGVNYXJrZXIgPSBmdW5jdGlvbihpbmRleCkge1xuXHRcdHZhciBtYXJrZXIgPSBuZXcgTWFya2VyKCk7XG5cdFx0bWFya2VyLmluZGV4ID0gaW5kZXg7XG5cdFx0dGhpcy5tYXJrZXJzW2luZGV4XSA9IG1hcmtlcjtcblx0XHRyZXR1cm4gbWFya2VyO1xuXHR9O1xuXG5cdFBvaW50UmVuZGVyZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0XHR2YXIgYXJyYXlJbmRleCA9IHRoaXMuaW5kZXggKiAzO1xuXHRcdHdoaWxlKGFycmF5SW5kZXggPCB0aGlzLnBvc2l0aW9ucy5sZW5ndGggJiYgdGhpcy5wb3NpdGlvbnNbYXJyYXlJbmRleF0gIT09IFNUQVJUX1ZBTFVFKVxuXHRcdFx0YXJyYXlJbmRleCA9ICsrdGhpcy5pbmRleCozO1xuXG5cdFx0aWYoYXJyYXlJbmRleCA+PSB0aGlzLnBvc2l0aW9ucy5sZW5ndGgpe1xuXHRcdFx0Ly8hVE9ETzogRXhwYW5kIHBvaW50cyBidWZmZXJcblx0XHRcdGNvbnNvbGUubG9nKFwiW1BvaW50UmVuZGVyZXJdIFJ1biBvdXQgb2YgcG9pbnRzISEhXCIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcdG9wdGlvbnMucG9zaXRpb24gPSBvcHRpb25zLnBvc2l0aW9uIHx8IHt4OjAsIHk6MCwgejowfTtcblx0XHRvcHRpb25zLmNvbG9yID0gb3B0aW9ucy5jb2xvciB8fCB7cjoxLCBnOjEsIGI6MX07XG5cblx0XHR0aGlzLnBvc2l0aW9uc1thcnJheUluZGV4ICsgMF0gPSBvcHRpb25zLnBvc2l0aW9uLng7XG5cdFx0dGhpcy5wb3NpdGlvbnNbYXJyYXlJbmRleCArIDFdID0gb3B0aW9ucy5wb3NpdGlvbi55O1xuXHRcdHRoaXMucG9zaXRpb25zW2FycmF5SW5kZXggKyAyXSA9IG9wdGlvbnMucG9zaXRpb24uejtcblxuXHRcdHRoaXMuY29sb3JzW2FycmF5SW5kZXggKyAwXSA9IG9wdGlvbnMuY29sb3Iucjtcblx0XHR0aGlzLmNvbG9yc1thcnJheUluZGV4ICsgMV0gPSBvcHRpb25zLmNvbG9yLmc7XG5cdFx0dGhpcy5jb2xvcnNbYXJyYXlJbmRleCArIDJdID0gb3B0aW9ucy5jb2xvci5iO1xuXG5cdFx0dmFyIHNwcml0ZSA9IHRoaXMuc3ByaXRlU2hlZXQuZ2V0KG9wdGlvbnMuaW1hZ2VOYW1lKTtcblx0XHRpZighc3ByaXRlKSB7XG5cdFx0XHRzcHJpdGUgPSB0aGlzLnNwcml0ZVNoZWV0LmFkZChvcHRpb25zLmltYWdlTmFtZSwgb3B0aW9ucy5pbWFnZSk7XG5cdFx0XHRpZighc3ByaXRlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiW1BvaW50UmVuZGVyZXJdIFNwcml0ZVNoZWV0IGFscmVhZHkgZnVsbC5cIik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHZhciBzcHJpdGVSZWN0ID0gc3ByaXRlICE9PSBudWxsID8gc3ByaXRlLm5vcm1hbFJlY3QgOiB7eDowLCB5OjAsIHdpZHRoOjAsIGhlaWdodDowfTtcblx0XHR0aGlzLnRpbGVzW3RoaXMuaW5kZXgqNCArIDBdID0gc3ByaXRlUmVjdC54O1xuXHRcdHRoaXMudGlsZXNbdGhpcy5pbmRleCo0ICsgMV0gPSBzcHJpdGVSZWN0Lnk7XG5cdFx0dGhpcy50aWxlc1t0aGlzLmluZGV4KjQgKyAyXSA9IHNwcml0ZVJlY3Qud2lkdGg7XG5cdFx0dGhpcy50aWxlc1t0aGlzLmluZGV4KjQgKyAzXSA9IHNwcml0ZVJlY3QuaGVpZ2h0O1xuXG5cdFx0dGhpcy5taW5JbmRleCA9IE1hdGgubWluKHRoaXMubWluSW5kZXgsIHRoaXMuaW5kZXgpO1xuXHRcdHRoaXMubWF4SW5kZXggPSBNYXRoLm1heCh0aGlzLm1heEluZGV4LCB0aGlzLmluZGV4KTtcblx0XHR2YXIgbWFya2VyID0gdGhpcy5tYXJrZXJzW3RoaXMuaW5kZXhdIHx8IHRoaXMuX2NyZWF0ZU1hcmtlcih0aGlzLmluZGV4KTtcblx0XHR0aGlzLmluZGV4Kys7XG5cdFx0cmV0dXJuIG1hcmtlcjtcblx0fTtcblxuXHRQb2ludFJlbmRlcmVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihtYXJrZXIpIHtcblx0XHR2YXIgYXJyYXlJbmRleCA9IG1hcmtlci5pbmRleCAqIDM7XG5cdFx0dGhpcy5wb3NpdGlvbnNbYXJyYXlJbmRleCArIDBdID0gU1RBUlRfVkFMVUU7XG5cdFx0dGhpcy5wb3NpdGlvbnNbYXJyYXlJbmRleCArIDFdID0gU1RBUlRfVkFMVUU7XG5cdFx0dGhpcy5wb3NpdGlvbnNbYXJyYXlJbmRleCArIDJdID0gU1RBUlRfVkFMVUU7XG5cblx0XHR0aGlzLm1pbkluZGV4ID0gTWF0aC5taW4odGhpcy5taW5JbmRleCwgbWFya2VyLmluZGV4KTtcblx0XHR0aGlzLm1heEluZGV4ID0gTWF0aC5tYXgodGhpcy5tYXhJbmRleCwgbWFya2VyLmluZGV4KTtcblxuXHRcdGlmKHRoaXMuaW5kZXggPiBtYXJrZXIuaW5kZXgpIHRoaXMuaW5kZXggPSBtYXJrZXIuaW5kZXg7XG5cdH07XG5cblx0UG9pbnRSZW5kZXJlci5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vIG9ubHkgdXBkYXRlIHBvc2l0aW9ucyB0aGF0IGNoYW5nZWQgYnkgcGFzc2luZyBhIHJhbmdlXG5cdFx0dGhpcy5taW5JbmRleCA9ICh0aGlzLm1pbkluZGV4ID09IE1BWF9DT1VOVCkgPyAwIDogdGhpcy5taW5JbmRleDtcblx0XHR2YXIgbmVlZHNVcGRhdGUgPSB0aGlzLm1heEluZGV4ICE9IHRoaXMubWluSW5kZXg7XG5cblx0XHR0aGlzLnBvc2l0aW9uc0F0dHJpYnV0ZS51cGRhdGVSYW5nZS5vZmZzZXQgPSB0aGlzLm1pbkluZGV4KjM7XG5cdFx0dGhpcy5wb3NpdGlvbnNBdHRyaWJ1dGUudXBkYXRlUmFuZ2UuY291bnQgPSAodGhpcy5tYXhJbmRleCozKzMpLSh0aGlzLm1pbkluZGV4KjMpO1xuXHRcdHRoaXMucG9zaXRpb25zQXR0cmlidXRlLm5lZWRzVXBkYXRlID0gbmVlZHNVcGRhdGU7XG5cblx0XHR0aGlzLmNvbG9yc0F0dHJpYnV0ZS51cGRhdGVSYW5nZS5vZmZzZXQgPSB0aGlzLm1pbkluZGV4KjM7XG5cdFx0dGhpcy5jb2xvcnNBdHRyaWJ1dGUudXBkYXRlUmFuZ2UuY291bnQgPSAodGhpcy5tYXhJbmRleCozKzMpLSh0aGlzLm1pbkluZGV4KjMpO1xuXHRcdHRoaXMuY29sb3JzQXR0cmlidXRlLm5lZWRzVXBkYXRlID0gbmVlZHNVcGRhdGU7XG5cblx0XHR0aGlzLnRpbGVzQXR0cmlidXRlLnVwZGF0ZVJhbmdlLm9mZnNldCA9IHRoaXMubWluSW5kZXgqNDtcblx0XHR0aGlzLnRpbGVzQXR0cmlidXRlLnVwZGF0ZVJhbmdlLmNvdW50ID0gKHRoaXMubWF4SW5kZXgqNCs0KS0odGhpcy5taW5JbmRleCo0KTtcblx0XHR0aGlzLnRpbGVzQXR0cmlidXRlLm5lZWRzVXBkYXRlID0gbmVlZHNVcGRhdGU7XG5cblx0XHRpZihuZWVkc1VwZGF0ZSkge1xuXHRcdFx0dGhpcy5nZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTtcblx0XHRcdHRoaXMuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5taW5JbmRleCA9IE1BWF9DT1VOVDtcblx0XHR0aGlzLm1heEluZGV4ID0gMDtcblx0fTtcblxuXHRQb2ludFJlbmRlcmVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdHRoaXMubW91c2UueCA9IChldmVudC5jbGllbnRYIC8gdGhpcy53ZWJHbFZpZXcud2lkdGgpICogMiAtIDE7XG5cdFx0dGhpcy5tb3VzZS55ID0gLShldmVudC5jbGllbnRZIC8gdGhpcy53ZWJHbFZpZXcuaGVpZ2h0KSAqIDIgKyAxO1xuXG5cdFx0Ly8gY2hlY2sgaWYgd2UgaGl0IGFueSBvZiB0aGUgcG9pbnRzIGluIHRoZSBwYXJ0aWNsZSBzeXN0ZW1cblx0XHR0aGlzLnJheWNhc3Rlci5wYXJhbXMuUG9pbnRzLnRocmVzaG9sZCA9IDE2KjEvTWF0aC5wb3coMiwgdGhpcy53ZWJHbFZpZXcuc2NhbGUpO1xuXHRcdHRoaXMucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEodGhpcy5tb3VzZSwgdGhpcy53ZWJHbFZpZXcuY2FtZXJhKTtcblx0XHR2YXIgaW50ZXJzZWN0aW9ucyA9IHRoaXMucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHModGhpcy5yYXljYXN0T2JqZWN0cyk7XG5cdFx0aW50ZXJzZWN0aW9uID0gKGludGVyc2VjdGlvbnMubGVuZ3RoKSA+IDAgPyBpbnRlcnNlY3Rpb25zWzBdIDogbnVsbDtcblxuXHRcdC8vIHdlIGhpdCBzb21ldGhpbmdcblx0XHRpZihpbnRlcnNlY3Rpb24pIHtcblx0XHRcdC8vIGZpcnN0IHRpbWUgdG8gaG92ZXIgc29tZXRoaW5nXG5cdFx0XHRpZih0aGlzLmhvdmVyZWRNYXJrZXIgPT09IG51bGwpIHtcblx0XHRcdFx0dGhpcy5ob3ZlcmVkTWFya2VyID0gdGhpcy5tYXJrZXJzW2ludGVyc2VjdGlvbi5pbmRleF07XG5cdFx0XHRcdHRoaXMuaG92ZXJlZE1hcmtlci5kaXNwYXRjaEV2ZW50KHt0eXBlOiAnbW91c2VvdmVyJ30pO1xuXHRcdFx0fVxuXHRcdFx0Ly8gd2UncmUgYWxyZWFkeSBob3ZlcmluZyBzb21ldGhpbmcgdGhlbiBzb21ldGhpbmcgZ290IGluIHRoZSB3YXlcblx0XHRcdGVsc2UgaWYodGhpcy5ob3ZlcmVkTWFya2VyLmluZGV4ICE9IGludGVyc2VjdGlvbi5pbmRleCkge1xuXHRcdFx0XHR0aGlzLmhvdmVyZWRNYXJrZXIuZGlzcGF0Y2hFdmVudCh7dHlwZTogJ21vdXNlb3V0J30pO1xuXHRcdFx0XHR0aGlzLmhvdmVyZWRNYXJrZXIgPSB0aGlzLm1hcmtlcnNbaW50ZXJzZWN0aW9uLmluZGV4XTtcblx0XHRcdFx0dGhpcy5ob3ZlcmVkTWFya2VyLmRpc3BhdGNoRXZlbnQoe3R5cGU6ICdtb3VzZW92ZXInfSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIHRoZXJlJ3Mgbm90aGluZyB1bmRlciB0aGUgbW91c2Vcblx0XHRlbHNlIHtcblx0XHRcdC8vIHdlIGxvc3Qgb3VyIG9iamVjdC4gYnllIGJ5ZVxuXHRcdFx0aWYodGhpcy5ob3ZlcmVkTWFya2VyICE9PSBudWxsKSB7XG5cdFx0XHRcdHRoaXMuaG92ZXJlZE1hcmtlci5kaXNwYXRjaEV2ZW50KHt0eXBlOiAnbW91c2VvdXQnfSk7XG5cdFx0XHRcdHRoaXMuaG92ZXJlZE1hcmtlciA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdHdpbmRvdy5Qb2ludFJlbmRlcmVyID0gUG9pbnRSZW5kZXJlcjtcbn0oKSk7IiwiKGZ1bmN0aW9uKCl7XG5cdHZhciBQb2x5Z29uUmVuZGVyZXIgPSBmdW5jdGlvbigpIHt9O1xuXG5cdFBvbHlnb25SZW5kZXJlci5wcm90b3R5cGUgPSBuZXcgT2JqZWN0UmVuZGVyZXIoKTtcblx0UG9seWdvblJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9iamVjdFJlbmRlcmVyO1xuXG5cdFBvbHlnb25SZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcdHZhciBmZWF0dXJlcyA9IG9wdGlvbnMuZmVhdHVyZXMgfHwgW107XG5cdFx0dmFyIGZpbGxDb2xvciA9IChvcHRpb25zLmZpbGxDb2xvciAhPT0gbnVsbCAmJiBvcHRpb25zLmZpbGxDb2xvciAhPT0gdW5kZWZpbmVkKSA/IG9wdGlvbnMuZmlsbENvbG9yIDogMHgwMDAwRkY7XG5cdFx0dmFyIHN0cm9rZUNvbG9yID0gKG9wdGlvbnMuc3Ryb2tlQ29sb3IgIT09IG51bGwgJiYgb3B0aW9ucy5zdHJva2VDb2xvciAhPT0gdW5kZWZpbmVkKSA/IG9wdGlvbnMuc3Ryb2tlQ29sb3IgOiAweEZGRkZGRjtcblxuXHRcdGlmKGZlYXR1cmVzID09PSBudWxsIHx8IGZlYXR1cmVzLmxlbmd0aCA9PT0gMClcblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0dmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG5cdFx0dmFyIG91dGxpbmUgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblx0XHR2YXIgdmVydGV4T2Zmc2V0ID0gZ2VvbWV0cnkudmVydGljZXMubGVuZ3RoO1xuXHRcdHZhciBudW1Qb2x5Z29ucyA9IDA7XG5cblx0XHRmb3IodmFyIGk9MDsgaTxmZWF0dXJlcy5sZW5ndGg7IGkrKyl7XG5cdFx0XHR2YXIgZmVhdHVyZSA9IGZlYXR1cmVzW2ldO1xuXHRcdFx0aWYoZmVhdHVyZS5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuXG5cdFx0XHQvLyBpdGVyYXRlIGV2ZXJ5IGZlYXR1cmUgd2hpY2ggc2hvdWxkIGNvbnRhaW4gYSBsaXN0IG9mIFxuXHRcdFx0Ly8gW2FycmF5IG9mIHBvbHlnb25zIFtvdXRlciBsb29wXSwgW2lubmVyIGxvb3AgMV0sIC4uLiwgW2lubmVyIGxvb3Agbl1dXG5cdFx0XHRmb3IodmFyIGo9MDsgajxmZWF0dXJlLmxlbmd0aDsgaisrKXtcblx0XHRcdFx0dmFyIHBvbHlnb24gID0gZmVhdHVyZVtqXTtcblx0XHRcdFx0Zm9yKHZhciBwPTA7IHA8cG9seWdvbi5sZW5ndGg7IHArKykge1xuXHRcdFx0XHRcdHZhciBsb29wID0gcG9seWdvbltwXTtcblx0XHRcdFx0XHR2YXIgcG9pbnRzID0gW10sIGhvbGVJbmRpY2VzID0gW10sIGhvbGVJbmRleCA9IDA7XG5cblx0XHRcdFx0XHRmb3IodmFyIGw9MDsgbDxsb29wLmxlbmd0aDsgbCsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgY29vcmRpbmF0ZSA9IGxvb3BbbF07XG5cdFx0XHRcdFx0XHR2YXIgcG9pbnQgPSB7eDogY29vcmRpbmF0ZVswXSwgeTogY29vcmRpbmF0ZVsxXX07XG5cdFx0XHRcdFx0XHRwb2ludHMucHVzaChwb2ludC54KTtcblx0XHRcdFx0XHRcdHBvaW50cy5wdXNoKHBvaW50LnkpO1xuXG5cdFx0XHRcdFx0XHR2YXIgdmVydGV4ID0gbmV3IFRIUkVFLlZlY3RvcjMocG9pbnQueCwgcG9pbnQueSwgMTAwMSk7XG5cdFx0XHRcdFx0XHRnZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKHZlcnRleCk7XG5cblx0XHRcdFx0XHRcdHZhciB2ZXJ0ZXgxID0gbmV3IFRIUkVFLlZlY3RvcjMocG9pbnQueCwgcG9pbnQueSwgMSk7XG5cdFx0XHRcdFx0XHRvdXRsaW5lLnZlcnRpY2VzLnB1c2godmVydGV4MSk7XG5cblx0XHRcdFx0XHRcdHZhciBjb29yZDAsIHBvaW50MCwgdmVydGV4MDtcblx0XHRcdFx0XHRcdGlmKGwgPT0gbG9vcC5sZW5ndGgtMSkge1xuXHRcdFx0XHRcdFx0XHRjb29yZDAgPSBsb29wWzBdO1xuXHRcdFx0XHRcdFx0XHRwb2ludDAgPSB7eDogY29vcmQwWzBdLCB5OiBjb29yZDBbMV19O1xuXHRcdFx0XHRcdFx0XHR2ZXJ0ZXgwID0gbmV3IFRIUkVFLlZlY3RvcjMocG9pbnQwLngsIHBvaW50MC55LCAxKTtcblx0XHRcdFx0XHRcdFx0b3V0bGluZS52ZXJ0aWNlcy5wdXNoKHZlcnRleDApO1xuXHRcdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHRcdGNvb3JkMCA9IGxvb3BbbCsxXTtcblx0XHRcdFx0XHRcdFx0cG9pbnQwID0ge3g6IGNvb3JkMFswXSwgeTogY29vcmQwWzFdfTtcblx0XHRcdFx0XHRcdFx0dmVydGV4MCA9IG5ldyBUSFJFRS5WZWN0b3IzKHBvaW50MC54LCBwb2ludDAueSwgMSk7XG5cdFx0XHRcdFx0XHRcdG91dGxpbmUudmVydGljZXMucHVzaCh2ZXJ0ZXgwKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZihwPjApIGhvbGVJbmRpY2VzLnB1c2goaG9sZUluZGV4KTtcblx0XHRcdFx0XHRob2xlSW5kZXggKz0gbG9vcC5sZW5ndGg7XG5cblx0XHRcdFx0XHR2YXIgdHJpcyA9IGVhcmN1dChwb2ludHMsIG51bGwsIDIpO1xuXHRcdFx0XHRcdGZvcih2YXIgaz0wOyBrPHRyaXMubGVuZ3RoOyBrKz0zKSB7XG5cdFx0XHRcdFx0XHQvLyAyLTEtMCBtZWFucyBmYWNlIHVwXG5cdFx0XHRcdFx0XHR2YXIgZmFjZSA9IG5ldyBUSFJFRS5GYWNlMyhcblx0XHRcdFx0XHRcdFx0dHJpc1trKzJdICsgdmVydGV4T2Zmc2V0LCBcblx0XHRcdFx0XHRcdFx0dHJpc1trKzFdICsgdmVydGV4T2Zmc2V0LCBcblx0XHRcdFx0XHRcdFx0dHJpc1trKzBdICsgdmVydGV4T2Zmc2V0XG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0Z2VvbWV0cnkuZmFjZXMucHVzaChmYWNlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmVydGV4T2Zmc2V0ID0gZ2VvbWV0cnkudmVydGljZXMubGVuZ3RoO1xuXHRcdFx0XHRcdG51bVBvbHlnb25zKys7XG5cdFx0XHRcdH1cdFxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBjb3ZlcmFnZVBvbHlnb24gPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcblx0XHRcdGNvbG9yOiBmaWxsQ29sb3IsXG5cdFx0XHRvcGFjaXR5OiAwLjI1LCBcblx0XHRcdHRyYW5zcGFyZW50OiB0cnVlLFxuXHRcdFx0ZGVwdGhXcml0ZTogZmFsc2UsXG5cdFx0XHRkZXB0aFRlc3Q6IGZhbHNlXG5cdFx0fSkpO1xuXG5cdFx0dmFyIG91dGxpbmVQb2x5Z29uID0gbmV3IFRIUkVFLkxpbmVTZWdtZW50cyhvdXRsaW5lLCBuZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoe1xuXHRcdFx0Y29sb3I6IHN0cm9rZUNvbG9yLFxuXHRcdFx0bGluZXdpZHRoOiAyLFxuXHRcdFx0b3BhY2l0eTogMC4yNSwgXG5cdFx0XHR0cmFuc3BhcmVudDogdHJ1ZSxcblx0XHRcdGRlcHRoV3JpdGU6IGZhbHNlLFxuXHRcdFx0ZGVwdGhUZXN0OiBmYWxzZVxuXHRcdH0pKTtcblxuXHRcdHJldHVybiB7c2hhcGU6IGNvdmVyYWdlUG9seWdvbiwgb3V0bGluZTogb3V0bGluZVBvbHlnb259O1xuXHR9O1xuXG5cdHdpbmRvdy5Qb2x5Z29uUmVuZGVyZXIgPSBQb2x5Z29uUmVuZGVyZXI7XG59KCkpOyIsIihmdW5jdGlvbigpe1xuXHR2YXIgdnNoYWRlciA9IChmdW5jdGlvbiAoKSB7Lypcblx0XHRhdHRyaWJ1dGUgdmVjNCB0aWxlO1xuXHRcdHZhcnlpbmcgdmVjMiB2VXY7XG5cdFx0dmFyeWluZyB2ZWM0IHZUaWxlO1xuXHRcdHZvaWQgbWFpbigpIHtcblx0XHRcdHZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XG5cdFx0XHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1xuXHRcdFx0dlV2ID0gdXY7XG5cdFx0XHR2VGlsZSA9IHRpbGU7XG5cdFx0fVxuXHQqL30pLnRvU3RyaW5nKCkubWF0Y2goL1teXSpcXC9cXCooW15dKilcXCpcXC9cXH0kLylbMV07XG5cblx0dmFyIGZzaGFkZXIgPSAoZnVuY3Rpb24gKCkgey8qXG5cdFx0dW5pZm9ybSBzYW1wbGVyMkQgdGV4MTtcblx0XHR1bmlmb3JtIGZsb2F0IGFscGhhO1xuXHRcdHZhcnlpbmcgdmVjMiB2VXY7XG5cdFx0dmFyeWluZyB2ZWM0IHZUaWxlO1xuXHRcdHZvaWQgbWFpbigpIHtcblx0XHRcdHZlYzIgdXYgPSB2VGlsZS54eSArIHZUaWxlLnp3ICogdlV2O1xuXHRcdFx0Z2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleDEsIHV2KSAqIHZlYzQoMSwgMSwgMSwgYWxwaGEpO1xuXHRcdH1cblx0Ki99KS50b1N0cmluZygpLm1hdGNoKC9bXl0qXFwvXFwqKFteXSopXFwqXFwvXFx9JC8pWzFdO1xuXG5cdHZhciBNQVhfQ09VTlQgPSBNYXRoLnBvdygyLDMyKSAtIDE7XG5cdHZhciBTVEFSVF9WQUxVRSA9IC05OTk5OS4wO1xuXG5cdHZhciBQT1NJVElPTl9JTlRFUlZBTCA9IDMqNDsgLy8gMyBkaW1lbnNpb25zIHBlciB2ZXJ0ZXgsIDQgdmVydGV4IHBlciBzcHJpdGVcblx0dmFyIElOREVYX0lOVEVSVkFMID0gMyoyOyAvLyAzIGluZGV4IHBlciB0cmksIDIgdHJpIHBlciBzcHJpdGVcblx0dmFyIFVWX0lOVEVSVkFMID0gMio0OyAvLyAyIHV2IHBlciB2ZXJ0ZXgsIDQgdmVydGV4IHBlciBzcHJpdGVcblx0dmFyIFRJTEVfSU5URVJWQUwgPSA0KjQ7IC8vIG9mZnNldCh4LHkpICsgc2l6ZSh3aWR0aCwgaGVpZ3QpIHBlciB2ZXJ0ZXgsIDQgdmVydGV4IHBlciBzcHJpdGVcblxuXHR2YXIgU3ByaXRlUmVuZGVyZXIgPSBmdW5jdGlvbigpe1xuXHRcdHRoaXMubWluSW5kZXggPSBNQVhfQ09VTlQ7XG5cdFx0dGhpcy5tYXhJbmRleCA9IDA7XG5cdFx0dGhpcy5pbmRleCA9IDA7XG5cdFx0dGhpcy5zcHJpdGVzID0gW107XG5cdFx0dGhpcy5vcGFjaXR5ID0gMC44O1xuXHR9O1xuXG5cdFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5wb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KDEwMjQqUE9TSVRJT05fSU5URVJWQUwpOyBcblx0XHR0aGlzLnBvc2l0aW9ucy5maWxsKFNUQVJUX1ZBTFVFKTtcblx0XHR0aGlzLnBvc2l0aW9uc0F0dHJpYnV0ZSA9IG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUodGhpcy5wb3NpdGlvbnMsIDMpO1xuXHRcdHRoaXMucG9zaXRpb25zQXR0cmlidXRlLnNldER5bmFtaWModHJ1ZSk7XG5cblx0XHR0aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoMTAyNCpJTkRFWF9JTlRFUlZBTCk7IFxuXHRcdHRoaXMuaW5kaWNlc0F0dHJpYnV0ZSA9IG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUodGhpcy5pbmRpY2VzLCAxKTtcblx0XHR0aGlzLmluZGljZXNBdHRyaWJ1dGUuc2V0RHluYW1pYyh0cnVlKTtcblxuXHRcdHRoaXMudXYgPSBuZXcgRmxvYXQzMkFycmF5KDEwMjQqVVZfSU5URVJWQUwpOyBcblx0XHR0aGlzLnV2QXR0cmlidXRlID0gbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSh0aGlzLnV2LCAyKTsgXG5cdFx0dGhpcy51dkF0dHJpYnV0ZS5zZXREeW5hbWljKHRydWUpO1xuXG5cdFx0dGhpcy50aWxlcyA9IG5ldyBGbG9hdDMyQXJyYXkoMTAyNCpUSUxFX0lOVEVSVkFMKTsgXG5cdFx0dGhpcy50aWxlc0F0dHJpYnV0ZSA9IG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUodGhpcy50aWxlcywgNCk7IFxuXHRcdHRoaXMudGlsZXNBdHRyaWJ1dGUuc2V0RHluYW1pYyh0cnVlKTtcblxuXHRcdHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcblx0XHR0aGlzLmdlb21ldHJ5LnNldEluZGV4KHRoaXMuaW5kaWNlc0F0dHJpYnV0ZSk7XG5cdFx0dGhpcy5nZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgdGhpcy5wb3NpdGlvbnNBdHRyaWJ1dGUpO1xuXHRcdHRoaXMuZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCd1dicsIHRoaXMudXZBdHRyaWJ1dGUpO1xuXHRcdHRoaXMuZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCd0aWxlJywgdGhpcy50aWxlc0F0dHJpYnV0ZSk7XG5cblx0XHR0aGlzLnNwcml0ZVNoZWV0ID0gbmV3IER5bmFtaWNTcHJpdGVTaGVldCg0MDk2LCA0MDk2KTtcblx0XHR0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKCB7XG5cdFx0XHR1bmlmb3Jtczoge1xuXHRcdFx0XHR0ZXgxOiB7IHR5cGU6IFwidFwiLCB2YWx1ZTogdGhpcy5zcHJpdGVTaGVldC50ZXh0dXJlIH0sXG5cdFx0XHRcdGFscGhhOiB7IHR5cGU6IFwiZlwiLCB2YWx1ZTogdGhpcy5vcGFjaXR5IH1cblx0XHRcdH0sXG5cdFx0XHR2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG5cdFx0XHRmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuXHRcdH0pO1xuXG5cdFx0dGhpcy5zY2VuZU9iamVjdCA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0U3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0XHR2YXIgcG9zaXRpb25JbmRleCA9IHRoaXMuaW5kZXgqUE9TSVRJT05fSU5URVJWQUw7XG5cdFx0d2hpbGUocG9zaXRpb25JbmRleCA8IHRoaXMucG9zaXRpb25zLmxlbmd0aCAmJiB0aGlzLnBvc2l0aW9uc1twb3NpdGlvbkluZGV4XSAhPT0gU1RBUlRfVkFMVUUpXG5cdFx0XHRwb3NpdGlvbkluZGV4ID0gKyt0aGlzLmluZGV4KlBPU0lUSU9OX0lOVEVSVkFMO1xuXG5cdFx0aWYocG9zaXRpb25JbmRleCA+PSB0aGlzLnBvc2l0aW9ucy5sZW5ndGgpe1xuXHRcdFx0Ly8hVE9ETzogRXhwYW5kIHBvaW50cyBidWZmZXJcblx0XHRcdGNvbnNvbGUubG9nKFwiW1Nwcml0ZVJlbmRlcmVyXSBSdW4gb3V0IG9mIHBvaW50cyEhIVwiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgaW1hZ2UgPSBvcHRpb25zLmltYWdlO1xuXHRcdHZhciBpbWFnZU5hbWUgPSBvcHRpb25zLmltYWdlTmFtZTtcblx0XHR2YXIgc3ByaXRlID0gdGhpcy5zcHJpdGVTaGVldC5nZXQoaW1hZ2VOYW1lKTtcblx0XHRpZighc3ByaXRlKSB7XG5cdFx0XHRzcHJpdGUgPSB0aGlzLnNwcml0ZVNoZWV0LmFkZChpbWFnZU5hbWUsIGltYWdlKTtcblx0XHRcdGlmKCFzcHJpdGUpIHtcblx0XHRcdFx0Ly8hVE9ETzogQ3JlYXRlIGEgbmV3IHNwcml0ZSBzaGVldCBpZiB0aGlzIG9uZSBnZXRzIGZ1bGxcblx0XHRcdFx0Y29uc29sZS5sb2coXCJbU3ByaXRlUmVuZGVyZXJdIFNwcml0ZVNoZWV0IGFscmVhZHkgZnVsbC5cIik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFx0b3B0aW9ucy5wb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb24gfHwge3g6MCwgeTowLCB6OjB9O1xuXHRcdG9wdGlvbnMud2lkdGggPSBvcHRpb25zLndpZHRoIHx8IDI1Njtcblx0XHRvcHRpb25zLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IDI1Njtcblx0XHRvcHRpb25zLmltYWdlTmFtZSA9IG9wdGlvbnMuaWNvbiB8fCBcInJlZC1kb3RcIjtcblxuXHRcdHRoaXMucG9zaXRpb25zW3Bvc2l0aW9uSW5kZXggKyAwXSA9IG9wdGlvbnMucG9zaXRpb24ueDtcblx0XHR0aGlzLnBvc2l0aW9uc1twb3NpdGlvbkluZGV4ICsgMV0gPSBvcHRpb25zLnBvc2l0aW9uLnk7XG5cdFx0dGhpcy5wb3NpdGlvbnNbcG9zaXRpb25JbmRleCArIDJdID0gb3B0aW9ucy5wb3NpdGlvbi56O1xuXHRcdHRoaXMucG9zaXRpb25zW3Bvc2l0aW9uSW5kZXggKyAzXSA9IG9wdGlvbnMucG9zaXRpb24ueCArIG9wdGlvbnMud2lkdGg7XG5cdFx0dGhpcy5wb3NpdGlvbnNbcG9zaXRpb25JbmRleCArIDRdID0gb3B0aW9ucy5wb3NpdGlvbi55O1xuXHRcdHRoaXMucG9zaXRpb25zW3Bvc2l0aW9uSW5kZXggKyA1XSA9IG9wdGlvbnMucG9zaXRpb24uejtcblx0XHR0aGlzLnBvc2l0aW9uc1twb3NpdGlvbkluZGV4ICsgNl0gPSBvcHRpb25zLnBvc2l0aW9uLng7XG5cdFx0dGhpcy5wb3NpdGlvbnNbcG9zaXRpb25JbmRleCArIDddID0gb3B0aW9ucy5wb3NpdGlvbi55ICsgb3B0aW9ucy5oZWlnaHQ7XG5cdFx0dGhpcy5wb3NpdGlvbnNbcG9zaXRpb25JbmRleCArIDhdID0gb3B0aW9ucy5wb3NpdGlvbi56O1xuXHRcdHRoaXMucG9zaXRpb25zW3Bvc2l0aW9uSW5kZXggKyA5XSA9IG9wdGlvbnMucG9zaXRpb24ueCArIG9wdGlvbnMud2lkdGg7XG5cdFx0dGhpcy5wb3NpdGlvbnNbcG9zaXRpb25JbmRleCArMTBdID0gb3B0aW9ucy5wb3NpdGlvbi55ICsgb3B0aW9ucy5oZWlnaHQ7XG5cdFx0dGhpcy5wb3NpdGlvbnNbcG9zaXRpb25JbmRleCArMTFdID0gb3B0aW9ucy5wb3NpdGlvbi56O1xuXG5cdFx0dmFyIGFycmF5SW5kZXggPSB0aGlzLmluZGV4KklOREVYX0lOVEVSVkFMO1xuXHRcdHRoaXMuaW5kaWNlc1thcnJheUluZGV4ICsgMF0gPSB0aGlzLmluZGV4KjQgKyAwO1xuXHRcdHRoaXMuaW5kaWNlc1thcnJheUluZGV4ICsgMV0gPSB0aGlzLmluZGV4KjQgKyAyO1xuXHRcdHRoaXMuaW5kaWNlc1thcnJheUluZGV4ICsgMl0gPSB0aGlzLmluZGV4KjQgKyAxO1xuXHRcdHRoaXMuaW5kaWNlc1thcnJheUluZGV4ICsgM10gPSB0aGlzLmluZGV4KjQgKyAxO1xuXHRcdHRoaXMuaW5kaWNlc1thcnJheUluZGV4ICsgNF0gPSB0aGlzLmluZGV4KjQgKyAyO1xuXHRcdHRoaXMuaW5kaWNlc1thcnJheUluZGV4ICsgNV0gPSB0aGlzLmluZGV4KjQgKyAzO1xuXG5cdFx0dmFyIHV2SW5kZXggPSB0aGlzLmluZGV4KlVWX0lOVEVSVkFMO1xuXHRcdHRoaXMudXZbdXZJbmRleCArIDBdID0gMDtcblx0XHR0aGlzLnV2W3V2SW5kZXggKyAxXSA9IDA7XG5cdFx0dGhpcy51dlt1dkluZGV4ICsgMl0gPSAxO1xuXHRcdHRoaXMudXZbdXZJbmRleCArIDNdID0gMDtcblx0XHR0aGlzLnV2W3V2SW5kZXggKyA0XSA9IDA7XG5cdFx0dGhpcy51dlt1dkluZGV4ICsgNV0gPSAxO1xuXHRcdHRoaXMudXZbdXZJbmRleCArIDZdID0gMTtcblx0XHR0aGlzLnV2W3V2SW5kZXggKyA3XSA9IDE7XG5cblx0XHR2YXIgdCA9IHRoaXMuaW5kZXgqVElMRV9JTlRFUlZBTDtcblx0XHR0aGlzLnRpbGVzW3QrMF0gPSB0aGlzLnRpbGVzW3QrNF0gPSB0aGlzLnRpbGVzW3QrOF0gPSB0aGlzLnRpbGVzW3QrMTJdID0gc3ByaXRlLm5vcm1hbFJlY3QueDtcblx0XHR0aGlzLnRpbGVzW3QrMV0gPSB0aGlzLnRpbGVzW3QrNV0gPSB0aGlzLnRpbGVzW3QrOV0gPSB0aGlzLnRpbGVzW3QrMTNdID0gc3ByaXRlLm5vcm1hbFJlY3QueTtcblx0XHR0aGlzLnRpbGVzW3QrMl0gPSB0aGlzLnRpbGVzW3QrNl0gPSB0aGlzLnRpbGVzW3QrMTBdID0gdGhpcy50aWxlc1t0KzE0XSA9IHNwcml0ZS5ub3JtYWxSZWN0LndpZHRoO1xuXHRcdHRoaXMudGlsZXNbdCszXSA9IHRoaXMudGlsZXNbdCs3XSA9IHRoaXMudGlsZXNbdCsxMV0gPSB0aGlzLnRpbGVzW3QrMTVdID0gc3ByaXRlLm5vcm1hbFJlY3QuaGVpZ2h0O1xuXG5cdFx0dGhpcy5taW5JbmRleCA9IE1hdGgubWluKHRoaXMubWluSW5kZXgsIHRoaXMuaW5kZXgpO1xuXHRcdHRoaXMubWF4SW5kZXggPSBNYXRoLm1heCh0aGlzLm1heEluZGV4LCB0aGlzLmluZGV4KTtcblx0XHRyZXR1cm4ge2luZGV4OiB0aGlzLmluZGV4KyssIG5hbWU6IGltYWdlTmFtZX07XG5cdH07XG5cblx0U3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHNwcml0ZSkge1xuXHRcdHZhciBwb3NpdGlvbkluZGV4ID0gc3ByaXRlLmluZGV4KlBPU0lUSU9OX0lOVEVSVkFMO1xuXHRcdGZvcih2YXIgaT0wOyBpPFBPU0lUSU9OX0lOVEVSVkFMOyBpKyspIHtcblx0XHRcdHRoaXMucG9zaXRpb25zW3Bvc2l0aW9uSW5kZXggKyBpXSA9IFNUQVJUX1ZBTFVFO1xuXHRcdH1cblx0XHR0aGlzLnNwcml0ZVNoZWV0LnJlbW92ZShzcHJpdGUubmFtZSk7XG5cblx0XHR0aGlzLm1pbkluZGV4ID0gTWF0aC5taW4odGhpcy5taW5JbmRleCwgc3ByaXRlLmluZGV4KTtcblx0XHR0aGlzLm1heEluZGV4ID0gTWF0aC5tYXgodGhpcy5tYXhJbmRleCwgc3ByaXRlLmluZGV4KTtcblxuXHRcdGlmKHRoaXMuaW5kZXggPiBzcHJpdGUuaW5kZXgpIHRoaXMuaW5kZXggPSBzcHJpdGUuaW5kZXg7XG5cdH07XG5cblx0U3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbigpIHtcblx0XHQvLyBvbmx5IHVwZGF0ZSBwb3NpdGlvbnMgdGhhdCBjaGFuZ2VkIGJ5IHBhc3NpbmcgYSByYW5nZVxuXHRcdHRoaXMubWluSW5kZXggPSAodGhpcy5taW5JbmRleCA9PSBNQVhfQ09VTlQpID8gMCA6IHRoaXMubWluSW5kZXg7XG5cdFx0dmFyIG5lZWRzVXBkYXRlID0gdGhpcy5tYXhJbmRleCAhPSB0aGlzLm1pbkluZGV4O1xuXG5cdFx0dmFyIHAgPSBQT1NJVElPTl9JTlRFUlZBTDtcblx0XHR0aGlzLnBvc2l0aW9uc0F0dHJpYnV0ZS51cGRhdGVSYW5nZS5vZmZzZXQgPSB0aGlzLm1pbkluZGV4KnA7XG5cdFx0dGhpcy5wb3NpdGlvbnNBdHRyaWJ1dGUudXBkYXRlUmFuZ2UuY291bnQgPSAodGhpcy5tYXhJbmRleCpwK3ApLSh0aGlzLm1pbkluZGV4KnApO1xuXHRcdHRoaXMucG9zaXRpb25zQXR0cmlidXRlLm5lZWRzVXBkYXRlID0gbmVlZHNVcGRhdGU7XG5cblx0XHR2YXIgaSA9IElOREVYX0lOVEVSVkFMO1xuXHRcdHRoaXMuaW5kaWNlc0F0dHJpYnV0ZS51cGRhdGVSYW5nZS5vZmZzZXQgPSB0aGlzLm1pbkluZGV4Kmk7XG5cdFx0dGhpcy5pbmRpY2VzQXR0cmlidXRlLnVwZGF0ZVJhbmdlLmNvdW50ID0gKHRoaXMubWF4SW5kZXgqaStpKS0odGhpcy5taW5JbmRleCppKTtcblx0XHR0aGlzLmluZGljZXNBdHRyaWJ1dGUubmVlZHNVcGRhdGUgPSBuZWVkc1VwZGF0ZTtcblxuXHRcdHZhciB1ID0gVVZfSU5URVJWQUw7XG5cdFx0dGhpcy51dkF0dHJpYnV0ZS51cGRhdGVSYW5nZS5vZmZzZXQgPSB0aGlzLm1pbkluZGV4KnU7XG5cdFx0dGhpcy51dkF0dHJpYnV0ZS51cGRhdGVSYW5nZS5jb3VudCA9ICh0aGlzLm1heEluZGV4KnUrdSktKHRoaXMubWluSW5kZXgqdSk7XG5cdFx0dGhpcy51dkF0dHJpYnV0ZS5uZWVkc1VwZGF0ZSA9IG5lZWRzVXBkYXRlO1xuXG5cdFx0dmFyIHQgPSBUSUxFX0lOVEVSVkFMO1xuXHRcdHRoaXMudGlsZXNBdHRyaWJ1dGUudXBkYXRlUmFuZ2Uub2Zmc2V0ID0gdGhpcy5taW5JbmRleCp0O1xuXHRcdHRoaXMudGlsZXNBdHRyaWJ1dGUudXBkYXRlUmFuZ2UuY291bnQgPSAodGhpcy5tYXhJbmRleCp0K3QpLSh0aGlzLm1pbkluZGV4KnQpO1xuXHRcdHRoaXMudGlsZXNBdHRyaWJ1dGUubmVlZHNVcGRhdGUgPSBuZWVkc1VwZGF0ZTtcblxuXHRcdGlmKG5lZWRzVXBkYXRlKSB7XG5cdFx0XHR0aGlzLmdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpO1xuXHRcdFx0dGhpcy5nZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtcblx0XHR9XG5cblx0XHR0aGlzLm1pbkluZGV4ID0gTUFYX0NPVU5UO1xuXHRcdHRoaXMubWF4SW5kZXggPSAwO1xuXHR9O1xuXG5cdHdpbmRvdy5TcHJpdGVSZW5kZXJlciA9IFNwcml0ZVJlbmRlcmVyO1xufSgpKTtcbiIsIihmdW5jdGlvbigpe1xuXHR2YXIgU3ByaXRlID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdHRoaXMubmFtZSA9IGRhdGEubmFtZTtcblx0XHR2YXIgeCA9IGRhdGEueCxcblx0XHRcdHkgPSBkYXRhLnksXG5cdFx0XHR3aWR0aCA9IGRhdGEud2lkdGgsXG5cdFx0XHRoZWlnaHQgPSBkYXRhLmhlaWdodDtcblx0XHR0aGlzLnJlY3QgPSBuZXcgUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuXHR9O1xuXG5cdFNwcml0ZS5wcm90b3R5cGUuY29tcHV0ZU5vcm1hbCA9IGZ1bmN0aW9uKG1heFdpZHRoLCBtYXhIZWlnaHQpIHtcblx0XHR0aGlzLm5vcm1hbFJlY3QgPSB0aGlzLnJlY3QuZ2V0Tm9ybWFsaXplZFJlY3QobWF4V2lkdGgsIG1heEhlaWdodCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0dmFyIFNwcml0ZVNoZWV0ID0gZnVuY3Rpb24odGV4dHVyZSwgc3ByaXRlcykge1xuXHRcdHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG5cdFx0dGhpcy5zcHJpdGVzID0ge307XG5cblx0XHRmb3IodmFyIGk9MDsgaTxzcHJpdGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR0aGlzLnNwcml0ZXNbc3ByaXRlc1tpXS5uYW1lXSA9IG5ldyBTcHJpdGUoc3ByaXRlc1tpXSlcblx0XHRcdFx0LmNvbXB1dGVOb3JtYWwodGV4dHVyZS5pbWFnZS53aWR0aCwgdGV4dHVyZS5pbWFnZS5oZWlnaHQpO1xuXHRcdH1cblx0fTtcblxuXHRTcHJpdGVTaGVldC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oc3ByaXRlTmFtZSkge1xuXHRcdHJldHVybiB0aGlzLnNwcml0ZXNbc3ByaXRlTmFtZV07XG5cdH07XG5cblx0d2luZG93LlNwcml0ZVNoZWV0ID0gU3ByaXRlU2hlZXQ7XG59KCkpOyIsIihmdW5jdGlvbigpe1xuXHR2YXIgQ1NTX1RSQU5TRk9STSA9IChmdW5jdGlvbigpIHtcblx0XHR2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dmFyIHByb3BzID0gW1xuXHRcdFx0J3RyYW5zZm9ybScsXG5cdFx0XHQnV2Via2l0VHJhbnNmb3JtJyxcblx0XHRcdCdNb3pUcmFuc2Zvcm0nLFxuXHRcdFx0J09UcmFuc2Zvcm0nLFxuXHRcdFx0J21zVHJhbnNmb3JtJ1xuXHRcdF07XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHByb3AgPSBwcm9wc1tpXTtcblx0XHRcdGlmIChkaXYuc3R5bGVbcHJvcF0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4gcHJvcDtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHByb3BzWzBdO1xuXHR9KSgpO1xuXG5cdHZhciBXZWJHTFZpZXcgPSBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoMCwgMjU1LCAwLCAyNTUsIC0zMDAwLCAzMDAwKTtcblx0XHR0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTAwMDtcblx0XHR0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG5cdFx0dGhpcy5zY2VuZU1hc2sgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblx0XHR0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuXHRcdFx0YWxwaGE6IHRydWUsXG5cdFx0XHRhbnRpYWxpYXNpbmc6IHRydWUsXG5cdFx0XHRjbGVhckNvbG9yOiAweDAwMDAwMCxcblx0XHRcdGNsZWFyQWxwaGE6IDBcblxuXHRcdH0pO1xuXHRcdHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG5cdFx0dGhpcy5yZW5kZXJlci5hdXRvQ2xlYXIgPSBmYWxzZTtcblx0XHR0aGlzLmNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG5cdFx0dGhpcy5hbmltYXRpb25GcmFtZSA9IG51bGw7XG5cdFx0dGhpcy5vYmplY3RSZW5kZXJlcnMgPSBbXTtcblx0XHR0aGlzLm51bU1hc2tzID0gMDtcblxuXHRcdHRoaXMudXBkYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbWFwID0gdGhpcy5tYXA7XG5cdFx0XHR2YXIgYm91bmRzID0gbWFwLmdldEJvdW5kcygpO1xuXHRcdFx0dmFyIHRvcExlZnQgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKFxuXHRcdFx0XHRib3VuZHMuZ2V0Tm9ydGhFYXN0KCkubGF0KCksXG5cdFx0XHRcdGJvdW5kcy5nZXRTb3V0aFdlc3QoKS5sbmcoKVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gVHJhbnNsYXRlIHRoZSB3ZWJnbCBjYW52YXMgYmFzZWQgb24gbWFwcydzIGJvdW5kc1xuXHRcdFx0dmFyIGNhbnZhcyA9IHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudDtcblx0XHRcdHZhciBwb2ludCA9IHRoaXMuZ2V0UHJvamVjdGlvbigpLmZyb21MYXRMbmdUb0RpdlBpeGVsKHRvcExlZnQpO1xuXHRcdFx0Y2FudmFzLnN0eWxlW0NTU19UUkFOU0ZPUk1dID0gJ3RyYW5zbGF0ZSgnICsgTWF0aC5yb3VuZChwb2ludC54KSArICdweCwnICsgTWF0aC5yb3VuZChwb2ludC55KSArICdweCknO1xuXG5cdFx0XHQvLyBSZXNpemUgdGhlIHJlbmRlcmVyIC8gY2FudmFzIGJhc2VkIG9uIHNpemUgb2YgdGhlIG1hcFxuXHRcdFx0dmFyIGRpdiA9IG1hcC5nZXREaXYoKSwgXG5cdFx0XHRcdHdpZHRoID0gZGl2LmNsaWVudFdpZHRoLCBcblx0XHRcdFx0aGVpZ2h0ID0gZGl2LmNsaWVudEhlaWdodDtcblxuXHRcdFx0aWYgKHdpZHRoICE9PSB0aGlzLndpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5oZWlnaHQpe1xuXHRcdFx0XHR0aGlzLndpZHRoID0gd2lkdGg7XG5cdFx0XHRcdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXHRcdFx0XHR0aGlzLnJlbmRlcmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFVwZGF0ZSBjYW1lcmEgYmFzZWQgb24gbWFwIHpvb20gYW5kIHBvc2l0aW9uXG5cdFx0XHR2YXIgem9vbSA9IG1hcC5nZXRab29tKCk7XG5cdFx0XHR2YXIgc2NhbGUgPSBNYXRoLnBvdygyLCB6b29tKTtcblx0XHRcdHZhciBvZmZzZXQgPSBtYXAuZ2V0UHJvamVjdGlvbigpLmZyb21MYXRMbmdUb1BvaW50KHRvcExlZnQpO1xuXG5cdFx0XHR0aGlzLmNhbWVyYS5wb3NpdGlvbi54ID0gb2Zmc2V0Lng7XG5cdFx0XHR0aGlzLmNhbWVyYS5wb3NpdGlvbi55ID0gb2Zmc2V0Lnk7XG5cblx0XHRcdHRoaXMuc2NhbGUgPSB6b29tO1xuXHRcdFx0dGhpcy5jYW1lcmEuc2NhbGUueCA9IHRoaXMud2lkdGggLyAyNTYgLyBzY2FsZTtcblx0XHRcdHRoaXMuY2FtZXJhLnNjYWxlLnkgPSB0aGlzLmhlaWdodCAvIDI1NiAvIHNjYWxlO1xuXHRcdH07XG5cblx0XHR0aGlzLmRyYXcgPSBmdW5jdGlvbigpIHtcblx0XHRcdGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRnJhbWUpO1xuXHRcdFx0dGhpcy5hbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmRlZmVycmVkUmVuZGVyLmJpbmQodGhpcykpO1xuXHRcdH07XG5cblx0XHR0aGlzLmRlZmVycmVkUmVuZGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnVwZGF0ZSgpO1xuXG5cdFx0XHR2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dCwgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXHRcdFx0dmFyIG1hc2tFbmFibGVkID0gdGhpcy5udW1NYXNrcyA+IDA7XG5cblx0XHRcdGlmKG1hc2tFbmFibGVkKSB7XG5cdFx0XHRcdGNvbnRleHQuY29sb3JNYXNrKCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSApO1xuXHRcdFx0XHRjb250ZXh0LmRlcHRoTWFzayggZmFsc2UgKTtcblxuXHRcdFx0XHRjb250ZXh0LmVuYWJsZShjb250ZXh0LlNURU5DSUxfVEVTVCk7XG5cdFx0XHRcdGNvbnRleHQuc3RlbmNpbE9wKGNvbnRleHQuUkVQTEFDRSwgY29udGV4dC5SRVBMQUNFLCBjb250ZXh0LlJFUExBQ0UpO1xuXHRcdFx0XHRjb250ZXh0LnN0ZW5jaWxGdW5jKGNvbnRleHQuQUxXQVlTLCAwLCAweGZmZmZmZmZmKTtcblx0XHRcdFx0Y29udGV4dC5jbGVhclN0ZW5jaWwoMSk7XG5cblx0XHRcdFx0dGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZU1hc2ssIHRoaXMuY2FtZXJhLCBudWxsLCB0cnVlKTtcblxuXHRcdFx0XHRjb250ZXh0LmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcblx0XHRcdFx0Y29udGV4dC5kZXB0aE1hc2sodHJ1ZSApO1xuXG5cdFx0XHRcdGNvbnRleHQuc3RlbmNpbEZ1bmMoY29udGV4dC5FUVVBTCwgMCwgMHhmZmZmZmZmZik7ICAvLyBkcmF3IGlmID09IDBcblx0XHRcdFx0Y29udGV4dC5zdGVuY2lsT3AoY29udGV4dC5LRUVQLCBjb250ZXh0LktFRVAsIGNvbnRleHQuS0VFUCk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcih2YXIgaT0wOyBpPHRoaXMub2JqZWN0UmVuZGVyZXJzLmxlbmd0aDsgaSsrKVxuXHRcdFx0XHR0aGlzLm9iamVjdFJlbmRlcmVyc1tpXS5kcmF3KCk7XG5cblx0XHRcdHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhLCBudWxsLCAhbWFza0VuYWJsZWQpO1xuXG5cdFx0XHRpZihtYXNrRW5hYmxlZCkge1xuXHRcdFx0XHRjb250ZXh0LmRpc2FibGUoY29udGV4dC5TVEVOQ0lMX1RFU1QpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ICdyZW5kZXInfSk7XG5cdFx0fTtcblx0fTtcblxuXHRXZWJHTFZpZXcucHJvdG90eXBlID0gXy5leHRlbmQobmV3IGdvb2dsZS5tYXBzLk92ZXJsYXlWaWV3KCksIG5ldyBUSFJFRS5FdmVudERpc3BhdGNoZXIoKSk7XG5cdFdlYkdMVmlldy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBXZWJHTFZpZXc7XG5cblx0V2ViR0xWaWV3LnByb3RvdHlwZS5vbkFkZCA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZ2V0UGFuZXMoKS5vdmVybGF5TGF5ZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcblx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiAnYWRkZWRfdG9fZG9tJ30pO1xuXHR9O1xuXG5cdFdlYkdMVmlldy5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgY2FudmFzID0gdGhpcy5yZW5kZXJlci5kb21FbGVtZW50O1xuXHRcdHRoaXMuY2FudmFzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuXHRcdHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ICdyZW1vdmVkX2Zyb21fZG9tJ30pO1xuXHR9O1xuXG5cdFdlYkdMVmlldy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vIVRPRE86IFJlbW92ZSBkZXBlbmRlbmN5IG9mIFBvaW50UmVuZGVyZXIgZnJvbSBXZWJHTFZpZXdcblx0XHR0aGlzLnBvaW50UmVuZGVyZXIgPSBuZXcgUG9pbnRSZW5kZXJlcih0aGlzKS5pbml0KCk7XG5cdFx0dGhpcy5zY2VuZS5hZGQodGhpcy5wb2ludFJlbmRlcmVyLnNjZW5lT2JqZWN0KTtcblx0XHR0aGlzLnNwcml0ZVJlbmRlcmVyID0gbmV3IFNwcml0ZVJlbmRlcmVyKCkuaW5pdCgpO1xuXHRcdHRoaXMuc2NlbmUuYWRkKHRoaXMuc3ByaXRlUmVuZGVyZXIuc2NlbmVPYmplY3QpO1xuXHRcdHRoaXMucG9seWdvblJlbmRlcmVyID0gbmV3IFBvbHlnb25SZW5kZXJlcigpLmluaXQoKTtcblx0XHQvLyBhZGQgdGhlbSB0byBhbiBhcnJheSBzbyB3ZSBjYW4gZHJhdy91cGRhdGUgdGhlbSBhbGwgbGF0ZXJcblx0XHR0aGlzLm9iamVjdFJlbmRlcmVycy5wdXNoKHRoaXMucG9pbnRSZW5kZXJlcik7XG5cdFx0dGhpcy5vYmplY3RSZW5kZXJlcnMucHVzaCh0aGlzLnBvbHlnb25SZW5kZXJlcik7XG5cdFx0dGhpcy5vYmplY3RSZW5kZXJlcnMucHVzaCh0aGlzLnNwcml0ZVJlbmRlcmVyKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRXZWJHTFZpZXcucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5jaGFuZ2VIYW5kbGVyID0gZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIodGhpcy5tYXAsICdib3VuZHNfY2hhbmdlZCcsIHRoaXMuZHJhdy5iaW5kKHRoaXMpKTtcblx0fTtcblxuXHRXZWJHTFZpZXcucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG5cdFx0Z29vZ2xlLm1hcHMuZXZlbnQucmVtb3ZlTGlzdGVuZXIodGhpcy5jaGFuZ2VIYW5kbGVyKTtcblx0XHR0aGlzLmNoYW5nZUhhbmRsZXIgPSBudWxsO1xuXHR9O1xuXG5cdFdlYkdMVmlldy5wcm90b3R5cGUuYWRkT2JqZWN0ID0gZnVuY3Rpb24oZ2VvbWV0cnkpIHtcblx0XHR0aGlzLnNjZW5lLmFkZChnZW9tZXRyeSk7XG5cdH07XG5cblx0V2ViR0xWaWV3LnByb3RvdHlwZS5yZW1vdmVPYmplY3QgPSBmdW5jdGlvbihnZW9tZXRyeSkge1xuXHRcdHRoaXMuc2NlbmUucmVtb3ZlKGdlb21ldHJ5KTtcblx0fTtcblxuXHRXZWJHTFZpZXcucHJvdG90eXBlLmFkZFBvaW50ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLnBvaW50UmVuZGVyZXIuYWRkKG9wdGlvbnMpO1xuXHR9O1xuXG5cdFdlYkdMVmlldy5wcm90b3R5cGUucmVtb3ZlUG9pbnQgPSBmdW5jdGlvbihwb2ludCkge1xuXHRcdHRoaXMucG9pbnRSZW5kZXJlci5yZW1vdmUocG9pbnQpO1xuXHR9O1xuXG5cdFdlYkdMVmlldy5wcm90b3R5cGUuYWRkU3ByaXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLnNwcml0ZVJlbmRlcmVyLmFkZChvcHRpb25zKTtcblx0fTtcblxuXHRXZWJHTFZpZXcucHJvdG90eXBlLnJlbW92ZVNwcml0ZSA9IGZ1bmN0aW9uKHNwcml0ZSkge1xuXHRcdHRoaXMuc3ByaXRlUmVuZGVyZXIucmVtb3ZlKHNwcml0ZSk7XG5cdH07XG5cblx0V2ViR0xWaWV3LnByb3RvdHlwZS5jcmVhdGVHZW9tZXRyeSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0XHR2YXIgZ2VvbWV0cnkgPSB0aGlzLnBvbHlnb25SZW5kZXJlci5jcmVhdGUob3B0aW9ucywgdGhpcy5zY2VuZSk7XG5cdFx0aWYoZ2VvbWV0cnkgIT09IG51bGwpIHtcblx0XHRcdHRoaXMuYWRkR2VvbWV0cnkoZ2VvbWV0cnkpO1xuXHRcdH1cblx0XHRyZXR1cm4gZ2VvbWV0cnk7XG5cdH07XG5cblx0V2ViR0xWaWV3LnByb3RvdHlwZS5hZGRHZW9tZXRyeSA9IGZ1bmN0aW9uKGdlb21ldHJ5KSB7XG5cdFx0dGhpcy5zY2VuZS5hZGQoZ2VvbWV0cnkuc2hhcGUpO1xuXHRcdHRoaXMuc2NlbmUuYWRkKGdlb21ldHJ5Lm91dGxpbmUpO1xuXHR9O1xuXG5cdFdlYkdMVmlldy5wcm90b3R5cGUucmVtb3ZlR2VvbWV0cnkgPSBmdW5jdGlvbihnZW9tZXRyeSkge1xuXHRcdHRoaXMuc2NlbmUucmVtb3ZlKGdlb21ldHJ5LnNoYXBlKTtcblx0XHR0aGlzLnNjZW5lLnJlbW92ZShnZW9tZXRyeS5vdXRsaW5lKTtcblx0fTtcblxuXHRXZWJHTFZpZXcucHJvdG90eXBlLmRlc3Ryb3lHZW9tZXRyeSA9IGZ1bmN0aW9uKGdlb21ldHJ5KSB7XG5cdFx0ZGVsZXRlIGdlb21ldHJ5LnNoYXBlO1xuXHRcdGRlbGV0ZSBnZW9tZXRyeS5vdXRsaW5lO1xuXHR9O1xuXG5cdFdlYkdMVmlldy5wcm90b3R5cGUuY3JlYXRlTWFzayA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0XHR2YXIgbWFzayA9IHRoaXMucG9seWdvblJlbmRlcmVyLmNyZWF0ZShvcHRpb25zKTtcblx0XHRpZihtYXNrICE9PSBudWxsKSB7XG5cdFx0XHR0aGlzLmFkZE1hc2sobWFzayk7XG5cdFx0XHR0aGlzLm51bU1hc2tzKys7XG5cdFx0fVxuXHRcdHJldHVybiBtYXNrO1xuXHR9O1xuXG5cdFdlYkdMVmlldy5wcm90b3R5cGUuYWRkTWFzayA9IGZ1bmN0aW9uKGdlb21ldHJ5KSB7XG5cdFx0dGhpcy5zY2VuZU1hc2suYWRkKGdlb21ldHJ5LnNoYXBlKTtcblx0XHR0aGlzLnNjZW5lTWFzay5hZGQoZ2VvbWV0cnkub3V0bGluZSk7XG5cdFx0dGhpcy5udW1NYXNrcysrO1xuXHR9O1xuXG5cdFdlYkdMVmlldy5wcm90b3R5cGUucmVtb3ZlTWFzayA9IGZ1bmN0aW9uKGdlb21ldHJ5KSB7XG5cdFx0dGhpcy5zY2VuZU1hc2sucmVtb3ZlKGdlb21ldHJ5LnNoYXBlKTtcblx0XHR0aGlzLnNjZW5lTWFzay5yZW1vdmUoZ2VvbWV0cnkub3V0bGluZSk7XG5cdFx0dGhpcy5udW1NYXNrcy0tO1xuXHR9O1xuXG5cdFdlYkdMVmlldy5wcm90b3R5cGUuZGVzdHJveU1hc2sgPSBmdW5jdGlvbihnZW9tZXRyeSkge1xuXHRcdGRlbGV0ZSBnZW9tZXRyeS5zaGFwZTtcblx0XHRkZWxldGUgZ2VvbWV0cnkub3V0bGluZTtcblx0fTtcblxuXHR3aW5kb3cuV2ViR0xWaWV3ID0gV2ViR0xWaWV3O1xufSgpKTsiLCIoZnVuY3Rpb24oKXtcblx0dmFyIGh0dHAgPSB7fTtcblxuXHRodHRwLmdldCA9IGZ1bmN0aW9uKHVybCwgb3B0aW9ucykge1xuXHRcdHZhciBkZWZlcnJlZCA9IFEuZGVmZXIoKTtcblx0XHR2YXIgcmVzcG9uc2VUeXBlID0gb3B0aW9ucy5yZXNwb25zZVR5cGU7XG5cdFx0aWYocmVzcG9uc2VUeXBlID09PSAnYmxvYicpIHtcblx0XHRcdHZhciBpbWFnZSA9ICQoXCI8aW1nIC8+XCIpLmF0dHIoJ3NyYycsIHVybCkub24oJ2xvYWQnLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHtkYXRhOmltYWdlWzBdfSk7XG5cdFx0XHR9KTtcblx0XHR9ZWxzZXtcblx0XHRcdCQuYWpheCh1cmwsIG9wdGlvbnMpXG5cdFx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgeGhyKXtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHtkYXRhOmRhdGEsIHN0YXR1czpzdGF0dXMsIHhocjp4aHJ9KTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVycm9yKGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnJvcil7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KHt4aHI6eGhyLCBzdGF0dXM6c3RhdHVzLCBlcnJvcjplcnJvcn0pO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdH07XG5cblx0d2luZG93Lmh0dHAgPSBodHRwO1xufSgpKTsiLCIoZnVuY3Rpb24oKXtcblxuXHR2YXIgTUVSQ0FUT1JfUkFOR0UgPSAyNTY7XG5cblx0ZnVuY3Rpb24gY29udmVydFBvaW50VG9UaWxlKGxhdExuZywgem9vbSwgcHJvamVjdGlvbikge1xuXHRcdHZhciB3b3JsZENvb3JkaW5hdGUgPSBwcm9qZWN0aW9uLmZyb21MYXRMbmdUb1BvaW50KGxhdExuZyk7XG5cdFx0dmFyIHBpeGVsQ29vcmRpbmF0ZSA9IHt4OiB3b3JsZENvb3JkaW5hdGUueCAqIE1hdGgucG93KDIsIHpvb20pLCB5OiB3b3JsZENvb3JkaW5hdGUueSAqIE1hdGgucG93KDIsIHpvb20pfTtcblx0XHR2YXIgdGlsZUNvb3JkaW5hdGUgPSB7eDogTWF0aC5mbG9vcihwaXhlbENvb3JkaW5hdGUueCAvIE1FUkNBVE9SX1JBTkdFKSwgeTogTWF0aC5mbG9vcihwaXhlbENvb3JkaW5hdGUueSAvIE1FUkNBVE9SX1JBTkdFKX07XG5cdFx0cmV0dXJuIHRpbGVDb29yZGluYXRlO1xuXHR9XG5cblx0dmFyIFRpbGVDb250cm9sbGVyID0gZnVuY3Rpb24od2ViR2xWaWV3KSB7XG5cdFx0dGhpcy53ZWJHbFZpZXcgPSB3ZWJHbFZpZXc7XG5cdFx0dGhpcy5ib3VuZHMgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xuXHRcdHRoaXMuem9vbSA9IDA7XG5cdFx0dGhpcy5taW5ab29tID0gMDtcblx0XHR0aGlzLm1heFpvb20gPSAxMDtcblx0XHR0aGlzLmVuYWJsZWQgPSBmYWxzZTtcblx0XHR0aGlzLnZpZXdzID0gW107XG5cdH07XG5cblx0VGlsZUNvbnRyb2xsZXIucHJvdG90eXBlLnNldE1hcCA9IGZ1bmN0aW9uKG1hcCkge1xuXHRcdGlmKG1hcCkge1xuXHRcdFx0dGhpcy5tYXAgPSBtYXA7XG5cdFx0XHR0aGlzLnVwZGF0ZSgpO1xuXHRcdFx0dGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcblx0XHRcdHRoaXMubWFwID0gbWFwO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRUaWxlQ29udHJvbGxlci5wcm90b3R5cGUuYWRkVmlldyA9IGZ1bmN0aW9uKHZpZXcpIHtcblx0XHR2YXIgaW5kZXggPSB0aGlzLnZpZXdzLmluZGV4T2Yodmlldyk7XG5cdFx0aWYoaW5kZXggPCAwKSB0aGlzLnZpZXdzLnB1c2godmlldyk7XG5cdFx0dmFyIGIgPSB0aGlzLmJvdW5kcztcblx0XHR2aWV3LnNldFRpbGVTaXplKE1FUkNBVE9SX1JBTkdFKTtcblx0XHR2aWV3LnNob3dUaWxlcyhiLnVseCwgYi51bHksIGIubHJ4LCBiLmxyeSwgdGhpcy56b29tKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRUaWxlQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlVmlldyA9IGZ1bmN0aW9uKHZpZXcpIHtcblx0XHR2YXIgaW5kZXggPSB0aGlzLnZpZXdzLmluZGV4T2Yodmlldyk7XG5cdFx0aWYoaW5kZXggPj0gMCkgdGhpcy52aWV3cy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHZpZXcuY2xlYXIoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRUaWxlQ29udHJvbGxlci5wcm90b3R5cGUuX2FkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5jaGFuZ2VMaXN0ZW5lciA9IGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHRoaXMubWFwLCBcImJvdW5kc19jaGFuZ2VkXCIsIHRoaXMudXBkYXRlLmJpbmQodGhpcykpO1xuXHR9O1xuXG5cdFRpbGVDb250cm9sbGVyLnByb3RvdHlwZS5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcblx0XHRnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUxpc3RlbmVyKTtcblx0fTtcblxuXHRUaWxlQ29udHJvbGxlci5wcm90b3R5cGUuaGFzQ2hhbmdlZFpvb20gPSBmdW5jdGlvbih6b29tKSB7XG5cdFx0cmV0dXJuIHRoaXMuem9vbSAhPSB6b29tO1xuXHR9O1xuXG5cdFRpbGVDb250cm9sbGVyLnByb3RvdHlwZS5oYXNDaGFuZ2VkQm91bmRzID0gZnVuY3Rpb24odmlzaWJsZUJvdW5kcykge1xuXHRcdHZhciBjdXJyZW50Qm91bmRzID0gdGhpcy5ib3VuZHM7XG5cdFx0cmV0dXJuIGN1cnJlbnRCb3VuZHMudWx4ICE9IHZpc2libGVCb3VuZHMudWx4IHx8IFxuXHRcdFx0Y3VycmVudEJvdW5kcy51bHkgIT0gdmlzaWJsZUJvdW5kcy51bHkgfHwgXG5cdFx0XHRjdXJyZW50Qm91bmRzLmxyeCAhPSB2aXNpYmxlQm91bmRzLmxyeCB8fCBcblx0XHRcdGN1cnJlbnRCb3VuZHMubHJ5ICE9IHZpc2libGVCb3VuZHMubHJ5O1xuXHR9O1xuXG5cdFRpbGVDb250cm9sbGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbWFwID0gdGhpcy5tYXAsXG5cdFx0XHRib3VuZHMgPSBtYXAuZ2V0Qm91bmRzKCksXG5cdFx0XHRib3VuZHNOZUxhdExuZyA9IGJvdW5kcy5nZXROb3J0aEVhc3QoKSxcblx0XHRcdGJvdW5kc1N3TGF0TG5nID0gYm91bmRzLmdldFNvdXRoV2VzdCgpLFxuXHRcdFx0Ym91bmRzTndMYXRMbmcgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGJvdW5kc05lTGF0TG5nLmxhdCgpLCBib3VuZHNTd0xhdExuZy5sbmcoKSksXG5cdFx0XHRib3VuZHNTZUxhdExuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoYm91bmRzU3dMYXRMbmcubGF0KCksIGJvdW5kc05lTGF0TG5nLmxuZygpKSxcblx0XHRcdHpvb20gPSBtYXAuZ2V0Wm9vbSgpLFxuXHRcdFx0cHJvamVjdGlvbiA9IG1hcC5nZXRQcm9qZWN0aW9uKCksXG5cdFx0XHR0aWxlQ29vcmRpbmF0ZU53ID0gY29udmVydFBvaW50VG9UaWxlKGJvdW5kc053TGF0TG5nLCB6b29tLCBwcm9qZWN0aW9uKSxcblx0XHRcdHRpbGVDb29yZGluYXRlU2UgPSBjb252ZXJ0UG9pbnRUb1RpbGUoYm91bmRzU2VMYXRMbmcsIHpvb20sIHByb2plY3Rpb24pLFxuXHRcdFx0dmlzaWJsZUJvdW5kcyA9IG5ldyBSZWN0YW5nbGUodGlsZUNvb3JkaW5hdGVOdy54LCB0aWxlQ29vcmRpbmF0ZU53LnksIFxuXHRcdFx0XHR0aWxlQ29vcmRpbmF0ZVNlLngtdGlsZUNvb3JkaW5hdGVOdy54LCB0aWxlQ29vcmRpbmF0ZVNlLnktdGlsZUNvb3JkaW5hdGVOdy55KTtcblxuXHRcdHpvb20gPSBNYXRoLm1heCh0aGlzLm1pblpvb20sIHpvb20pO1xuXHRcdHpvb20gPSBNYXRoLm1pbih0aGlzLm1heFpvb20sIHpvb20pO1xuXG5cdFx0dmFyIGN1cnJlbnRCb3VuZHMgPSB0aGlzLmJvdW5kcztcblx0XHR2YXIgeCA9IE1hdGgubWluKGN1cnJlbnRCb3VuZHMudWx4LCB2aXNpYmxlQm91bmRzLnVseCksXG5cdFx0XHR5ID0gTWF0aC5taW4oY3VycmVudEJvdW5kcy51bHksIHZpc2libGVCb3VuZHMudWx5KSxcblx0XHRcdHdpZHRoID0gTWF0aC5tYXgoY3VycmVudEJvdW5kcy5scngsIHZpc2libGVCb3VuZHMubHJ4KSAtIHgsXG5cdFx0XHRoZWlnaHQgPSBNYXRoLm1heChjdXJyZW50Qm91bmRzLmxyeSwgdmlzaWJsZUJvdW5kcy5scnkpIC0geTtcblx0XHR2YXIgcmFuZ2UgPSBuZXcgUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuXHRcdFxuXHRcdC8vIEhpZGUgZXZlcnl0aGluZyBpZiB3ZSBjaGFuZ2VkIHpvb20gbGV2ZWwuXG5cdFx0Ly8gVGhlbiBzZXQgdGhlIHJhbmdlIHRvIHVwZGF0ZSBvbmx5IHRoZSB2aXNpYmxlIHRpbGVzLlxuXHRcdGlmKHRoaXMuaGFzQ2hhbmdlZFpvb20oem9vbSkpIHtcblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IGFsbCBjdXJyZW50bHkgdmlzaWJsZSB0aWxlcyB3aWxsIGJlIGhpZGRlbi5cblx0XHRcdHRoaXMudXBkYXRlVGlsZXMoY3VycmVudEJvdW5kcywgY3VycmVudEJvdW5kcywgbmV3IFJlY3RhbmdsZSgtMSwgLTEsIDAsIDApLCB0aGlzLnpvb20pO1xuXHRcdFx0Ly8gVGhlbiBtYWtlIHN1cmUgdGhhdCBhbGwgdGlsZXMgdGhhdCBzaG91bGQgYmUgdmlzaWJsZSB3aWxsIGNhbGwgc2hvd1RpbGUgYmVsb3cuXG5cdFx0XHRjdXJyZW50Qm91bmRzID0gbmV3IFJlY3RhbmdsZSgtMSwgLTEsIDAsIDApO1xuXHRcdFx0Ly8gV2Ugb25seSBuZWVkIHRvIHVwZGF0ZSBhbGwgdmlzaWJsZSB0aWxlcyBiZWxvdy5cblx0XHRcdHJhbmdlID0gdmlzaWJsZUJvdW5kcztcblx0XHR9XG5cblx0XHQvLyBJdGVyYXRlIGFsbCB0aGUgbGF5ZXJzIHRvIHVwZGF0ZSB3aGljaCB0aWxlcyBhcmUgdmlzaWJsZS5cblx0XHRpZih0aGlzLmhhc0NoYW5nZWRCb3VuZHModmlzaWJsZUJvdW5kcykpIHtcblx0XHRcdHRoaXMudXBkYXRlVGlsZXMocmFuZ2UsIGN1cnJlbnRCb3VuZHMsIHZpc2libGVCb3VuZHMsIHpvb20pO1xuXHRcdH1cblx0fTtcblxuXHRUaWxlQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlVGlsZXMgPSBmdW5jdGlvbihyYW5nZSwgY3VycmVudEJvdW5kcywgdmlzaWJsZUJvdW5kcywgem9vbSkge1xuXHRcdHZhciB2aWV3cyA9IHRoaXMudmlld3M7XG5cdFx0Zm9yKHZhciBpPTA7IGk8dmlld3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdGZvcih2YXIgY29sdW1uPXJhbmdlLnVseDsgY29sdW1uPD1yYW5nZS5scng7IGNvbHVtbisrKSB7XG5cdFx0XHRcdGZvcih2YXIgcm93PXJhbmdlLnVseTsgcm93PD1yYW5nZS5scnk7IHJvdysrKSB7XG5cdFx0XHRcdFx0aWYodmlzaWJsZUJvdW5kcy5jb250YWluc1BvaW50KGNvbHVtbiwgcm93KSkge1xuXHRcdFx0XHRcdFx0Ly8gT25seSBzaG93VGlsZSBpZiBpdCdzIG5vdCBhbHJlYWR5IHZpc2libGVcblx0XHRcdFx0XHRcdGlmKCFjdXJyZW50Qm91bmRzLmNvbnRhaW5zUG9pbnQoY29sdW1uLCByb3cpKVxuXHRcdFx0XHRcdFx0XHR2aWV3c1tpXS5zaG93VGlsZShjb2x1bW4sIHJvdywgem9vbSk7XG5cdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHQvLyBIaWRlIHRpbGUgdGhhdCBpcyBjdXJyZW50bHkgdmlzaWJsZVxuXHRcdFx0XHRcdFx0aWYoY3VycmVudEJvdW5kcy5jb250YWluc1BvaW50KGNvbHVtbiwgcm93KSlcblx0XHRcdFx0XHRcdFx0dmlld3NbaV0uaGlkZVRpbGUoY29sdW1uLCByb3csIHpvb20pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dGhpcy53ZWJHbFZpZXcuZHJhdygpO1xuXHRcdH1cblx0XHR0aGlzLnpvb20gPSB6b29tO1xuXHRcdHRoaXMuYm91bmRzID0gdmlzaWJsZUJvdW5kcztcblx0fTtcblxuXHR3aW5kb3cuVGlsZUNvbnRyb2xsZXIgPSBUaWxlQ29udHJvbGxlcjtcbn0oKSk7XG4iLCIoZnVuY3Rpb24oKXtcblx0dmFyIEdlb0pTT05EYXRhU291cmNlID0gZnVuY3Rpb24odXJsLCBwcm9qZWN0aW9uKXtcblx0XHR0aGlzLnVybCA9IHVybDtcblx0XHR0aGlzLnByb2plY3Rpb24gPSBwcm9qZWN0aW9uO1xuXHRcdHRoaXMuZmlsZUV4dGVuc2lvbiA9IFwianNvblwiO1xuXHRcdHRoaXMucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XG5cdH07XG5cblx0R2VvSlNPTkRhdGFTb3VyY2UucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdHZhciBmZWF0dXJlQ29sbGVjdGlvbiA9IFtdO1xuXHRcdGlmKGRhdGEpIHtcblx0XHRcdGlmKGRhdGEudHlwZSA9PSBcIkZlYXR1cmVDb2xsZWN0aW9uXCIpIHtcblx0XHRcdFx0dmFyIGZlYXR1cmVzID0gZGF0YS5mZWF0dXJlcztcblx0XHRcdFx0Zm9yKHZhciBpPTA7IGk8ZmVhdHVyZXMubGVuZ3RoOyBpKyspXG5cdFx0XHRcdFx0ZmVhdHVyZUNvbGxlY3Rpb24ucHVzaCh0aGlzLl9wYXJzZUZlYXR1cmUoZmVhdHVyZXNbaV0pKTtcblx0XHRcdH1lbHNlIGlmKGRhdGEudHlwZSA9PSBcIkZlYXR1cmVcIikge1xuXHRcdFx0XHRmZWF0dXJlQ29sbGVjdGlvbi5wdXNoKHRoaXMuX3BhcnNlRmVhdHVyZShkYXRhKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmZWF0dXJlQ29sbGVjdGlvbjtcblx0fTtcblxuXHRHZW9KU09ORGF0YVNvdXJjZS5wcm90b3R5cGUuX3BhcnNlRmVhdHVyZSA9IGZ1bmN0aW9uKGZlYXR1cmUpIHtcblx0XHR2YXIgcG9seWdvbnMgPSBbXTtcblx0XHRpZihmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT0gXCJQb2x5Z29uXCIpIHtcblx0XHRcdHBvbHlnb25zLnB1c2godGhpcy5fcGFyc2VQb2x5Z29uKGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpKTtcblx0XHR9XG5cdFx0ZWxzZSBpZihmZWF0dXJlLmdlb21ldHJ5LnR5cGUgPT0gXCJNdWx0aVBvbHlnb25cIikge1xuXHRcdFx0dmFyIGNvb3JkaW5hdGVzID0gZmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlcztcblx0XHRcdGZvcih2YXIgaT0wOyBpPGNvb3JkaW5hdGVzLmxlbmd0aDsgaSsrKVxuXHRcdFx0XHRwb2x5Z29ucy5wdXNoKHRoaXMuX3BhcnNlUG9seWdvbihjb29yZGluYXRlc1tpXSkpO1xuXHRcdH1cblx0XHRyZXR1cm4gcG9seWdvbnM7XG5cdH07XG5cblx0R2VvSlNPTkRhdGFTb3VyY2UucHJvdG90eXBlLl9wYXJzZVBvbHlnb24gPSBmdW5jdGlvbihjb29yZGluYXRlcykge1xuXHRcdHZhciBwb2x5Z29uID0gW107XG5cdFx0Zm9yKHZhciBpPTA7IGk8Y29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBwb2ludHMgPSBbXTtcblx0XHRcdGZvcih2YXIgaj0wOyBqPGNvb3JkaW5hdGVzW2ldLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHZhciBsYXRMbmcgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGNvb3JkaW5hdGVzW2ldW2pdWzFdLCBjb29yZGluYXRlc1tpXVtqXVswXSk7XG5cdFx0XHRcdHZhciBwb2ludCA9IHRoaXMucHJvamVjdGlvbi5mcm9tTGF0TG5nVG9Qb2ludChsYXRMbmcpO1xuXHRcdFx0XHRwb2ludHMucHVzaChbcG9pbnQueCwgcG9pbnQueV0pO1xuXHRcdFx0fVxuXHRcdFx0cG9seWdvbi5wdXNoKHBvaW50cyk7XG5cdFx0fVxuXHRcdHJldHVybiBwb2x5Z29uO1xuXHR9O1xuXG5cdHdpbmRvdy5HZW9KU09ORGF0YVNvdXJjZSA9IEdlb0pTT05EYXRhU291cmNlO1xufSgpKTsiLCIoZnVuY3Rpb24oKXtcblx0dmFyIEltYWdlRGF0YVNvdXJjZSA9IGZ1bmN0aW9uKHVybCl7XG5cdFx0dGhpcy51cmwgPSB1cmw7XG5cdFx0dGhpcy5maWxlRXh0ZW5zaW9uID0gXCJwbmdcIjtcblx0XHR0aGlzLnJlc3BvbnNlVHlwZSA9IFwiYmxvYlwiO1xuXHR9O1xuXG5cdEltYWdlRGF0YVNvdXJjZS5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihkYXRhKXtcblx0XHRyZXR1cm4gZGF0YTtcblx0fTtcblxuXHR3aW5kb3cuSW1hZ2VEYXRhU291cmNlID0gSW1hZ2VEYXRhU291cmNlO1xufSgpKTsiLCIoZnVuY3Rpb24oKXtcblx0dmFyIFRpbGVQcm92aWRlciA9IGZ1bmN0aW9uKGRhdGFTb3VyY2UsICRodHRwLCAkcSkge1xuXHRcdHRoaXMuZGF0YVNvdXJjZSA9IGRhdGFTb3VyY2U7XG5cdFx0dGhpcy4kaHR0cCA9ICRodHRwO1xuXHRcdHRoaXMuJHEgPSAkcTtcblx0XHR0aGlzLnRpbGVzID0ge307XG5cdH07XG5cblx0VGlsZVByb3ZpZGVyLnByb3RvdHlwZS5nZXRUaWxlVXJsID0gZnVuY3Rpb24oeCwgeSwgeikge1xuXHRcdHJldHVybiB0aGlzLmRhdGFTb3VyY2UudXJsK1wiL1wiK3orXCIvXCIreCtcIi9cIit5K1wiLlwiK3RoaXMuZGF0YVNvdXJjZS5maWxlRXh0ZW5zaW9uO1xuXHR9O1xuXG5cdFRpbGVQcm92aWRlci5wcm90b3R5cGUuZ2V0VGlsZSA9IGZ1bmN0aW9uKHgsIHksIHopIHtcblx0XHR2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdFx0dmFyIHVybCA9IHRoaXMuZ2V0VGlsZVVybCh4LCB5LCB6KTtcblx0XHRpZih0aGlzLnRpbGVzW3VybF0pe1xuXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZSh7dXJsOnVybCwgZGF0YTp0aGlzLnRpbGVzW3VybF19KTtcblx0XHR9ZWxzZXtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuJGh0dHAuZ2V0KHVybCwge3Jlc3BvbnNlVHlwZTogdGhpcy5kYXRhU291cmNlLnJlc3BvbnNlVHlwZX0pXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcblx0XHRcdFx0XHRzZWxmLnRpbGVzW3VybF0gPSBzZWxmLmRhdGFTb3VyY2UucGFyc2UocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZSh7dXJsOnVybCwgZGF0YTpzZWxmLnRpbGVzW3VybF19KTtcblx0XHRcdFx0fSwgZnVuY3Rpb24ocmVhc29uKXtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QocmVhc29uKTtcblx0XHRcdFx0fSk7XG5cdFx0fVxuXHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHR9O1xuXG5cdHdpbmRvdy5UaWxlUHJvdmlkZXIgPSBUaWxlUHJvdmlkZXI7XG59KCkpOyIsIihmdW5jdGlvbigpe1xuXHR2YXIgSW1hZ2VUaWxlVmlldyA9IGZ1bmN0aW9uKHRpbGVQcm92aWRlciwgd2ViR2xWaWV3KSB7XG5cdFx0dGhpcy50aWxlUHJvdmlkZXIgPSB0aWxlUHJvdmlkZXI7XG5cdFx0dGhpcy53ZWJHbFZpZXcgPSB3ZWJHbFZpZXc7XG5cdFx0dGhpcy50aWxlcyA9IHt9O1xuXHR9O1xuXG5cdEltYWdlVGlsZVZpZXcucHJvdG90eXBlLnNldFRpbGVTaXplID0gZnVuY3Rpb24odGlsZVNpemUpIHtcblx0XHR0aGlzLnRpbGVTaXplID0gdGlsZVNpemU7XG5cdH07XG5cblx0SW1hZ2VUaWxlVmlldy5wcm90b3R5cGUuc2hvd1RpbGVzID0gZnVuY3Rpb24odWx4LCB1bHksIGxyeCwgbHJ5LCB6b29tKSB7XG5cdFx0Zm9yKHZhciBjb2x1bW49dWx4OyBjb2x1bW48PWxyeDsgY29sdW1uKyspIHtcblx0XHRcdGZvcih2YXIgcm93PXVseTsgcm93PD1scnk7IHJvdysrKSB7XG5cdFx0XHRcdHRoaXMuc2hvd1RpbGUoY29sdW1uLCByb3csIHpvb20pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLndlYkdsVmlldy5kcmF3KCk7XG5cdH07XG5cblx0SW1hZ2VUaWxlVmlldy5wcm90b3R5cGUuc2hvd1RpbGUgPSBmdW5jdGlvbih4LCB5LCB6KSB7XG5cdFx0dmFyIHVybCA9IHRoaXMudGlsZVByb3ZpZGVyLmdldFRpbGVVcmwoeCwgeSwgeik7XG5cdFx0aWYodGhpcy50aWxlc1t1cmxdKSB7XG5cdFx0XHRpZighdGhpcy50aWxlc1t1cmxdLmdlb21ldHJ5KSB7XG5cdFx0XHRcdHZhciBzY2FsZUZhY3RvciA9IE1hdGgucG93KDIsIHopO1xuXHRcdFx0XHR2YXIgc3ByaXRlU2l6ZSA9IHRoaXMudGlsZVNpemUgLyBzY2FsZUZhY3Rvcjtcblx0XHRcdFx0dmFyIHNwcml0ZU9wdGlvbnMgPSB7XG5cdFx0XHRcdFx0cG9zaXRpb246IHt4Ongqc3ByaXRlU2l6ZSwgeTp5KnNwcml0ZVNpemUsIHo6en0sXG5cdFx0XHRcdFx0d2lkdGg6IHNwcml0ZVNpemUsXG5cdFx0XHRcdFx0aGVpZ2h0OiBzcHJpdGVTaXplLFxuXHRcdFx0XHRcdGltYWdlOiB0aGlzLnRpbGVzW3VybF0uZGF0YSxcblx0XHRcdFx0XHRpbWFnZU5hbWU6IHVybFxuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLnRpbGVzW3VybF0uZ2VvbWV0cnkgPSB0aGlzLndlYkdsVmlldy5hZGRTcHJpdGUoc3ByaXRlT3B0aW9ucyk7XG5cdFx0XHRcdHRoaXMud2ViR2xWaWV3LmRyYXcoKTtcblx0XHRcdH1cblx0XHR9ZWxzZXtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMudGlsZVByb3ZpZGVyLmdldFRpbGUoeCwgeSwgeilcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuXHRcdFx0XHRcdHNlbGYudGlsZXNbdXJsXSA9IHJlc3BvbnNlO1xuXHRcdFx0XHRcdHZhciBzY2FsZUZhY3RvciA9IE1hdGgucG93KDIsIHopO1xuXHRcdFx0XHRcdHZhciBzcHJpdGVTaXplID0gc2VsZi50aWxlU2l6ZSAvIHNjYWxlRmFjdG9yO1xuXHRcdFx0XHRcdHZhciBzcHJpdGVPcHRpb25zID0ge1xuXHRcdFx0XHRcdFx0cG9zaXRpb246IHt4Ongqc3ByaXRlU2l6ZSwgeTp5KnNwcml0ZVNpemUsIHo6en0sXG5cdFx0XHRcdFx0XHR3aWR0aDogc3ByaXRlU2l6ZSxcblx0XHRcdFx0XHRcdGhlaWdodDogc3ByaXRlU2l6ZSxcblx0XHRcdFx0XHRcdGltYWdlOiBzZWxmLnRpbGVzW3VybF0uZGF0YSxcblx0XHRcdFx0XHRcdGltYWdlTmFtZTogdXJsXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRzZWxmLnRpbGVzW3VybF0uZ2VvbWV0cnkgPSBzZWxmLndlYkdsVmlldy5hZGRTcHJpdGUoc3ByaXRlT3B0aW9ucyk7XG5cdFx0XHRcdFx0c2VsZi53ZWJHbFZpZXcuZHJhdygpO1xuXHRcdFx0XHR9LCBmdW5jdGlvbihyZWFzb24pe1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2cocmVhc29uKTtcblx0XHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdEltYWdlVGlsZVZpZXcucHJvdG90eXBlLmhpZGVUaWxlID0gZnVuY3Rpb24oeCwgeSwgeikge1xuXHRcdHZhciB1cmwgPSB0aGlzLnRpbGVQcm92aWRlci5nZXRUaWxlVXJsKHgsIHksIHopO1xuXHRcdGlmKHRoaXMudGlsZXNbdXJsXSAmJiB0aGlzLnRpbGVzW3VybF0uZ2VvbWV0cnkpIHtcblx0XHRcdHRoaXMud2ViR2xWaWV3LnJlbW92ZVNwcml0ZSh0aGlzLnRpbGVzW3VybF0uZ2VvbWV0cnkpO1xuXHRcdFx0dGhpcy50aWxlc1t1cmxdLmdlb21ldHJ5ID0gbnVsbDtcblx0XHR9XG5cdH07XG5cblx0SW1hZ2VUaWxlVmlldy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0XHRmb3IodmFyIHVybCBpbiB0aGlzLnRpbGVzKSB7XG5cdFx0XHRpZih0aGlzLnRpbGVzW3VybF0uZ2VvbWV0cnkpIHtcblx0XHRcdFx0dGhpcy53ZWJHbFZpZXcucmVtb3ZlU3ByaXRlKHRoaXMudGlsZXNbdXJsXS5nZW9tZXRyeSk7XG5cdFx0XHRcdHRoaXMudGlsZXNbdXJsXS5nZW9tZXRyeSA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMud2ViR2xWaWV3LmRyYXcoKTtcblx0fTtcblxuXHR3aW5kb3cuSW1hZ2VUaWxlVmlldyA9IEltYWdlVGlsZVZpZXc7XG59KCkpOyIsIihmdW5jdGlvbigpe1xuXG5cdGZ1bmN0aW9uIGNvbG9yVG9IZXgoYikge1xuXHRcdHZhciBoZXhDaGFyID0gW1wiMFwiLCBcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjdcIixcIjhcIiwgXCI5XCIsIFwiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImVcIiwgXCJmXCJdO1xuXHRcdHJldHVybiBoZXhDaGFyWyhiID4+IDIwKSAmIDB4MGZdICsgaGV4Q2hhclsoYiA+PiAxNikgJiAweDBmXSArIFxuXHRcdFx0aGV4Q2hhclsoYiA+PiAxMikgJiAweDBmXSArIGhleENoYXJbKGIgPj4gOCkgJiAweDBmXSArIFxuXHRcdFx0aGV4Q2hhclsoYiA+PiA0KSAmIDB4MGZdICsgaGV4Q2hhcltiICYgMHgwZl07XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRSYW5kb21Db2xvcigpIHtcblx0XHRyZXR1cm4gKE1hdGguZmxvb3IoMjU1LjAqTWF0aC5yYW5kb20oKSkgJiAweEZGKSA8PCAxNiBcblx0XHRcdHwgKE1hdGguZmxvb3IoMjU1LjAqTWF0aC5yYW5kb20oKSkgJiAweEZGKSA8PCA4IFxuXHRcdFx0fCAoTWF0aC5mbG9vcigyNTUuMCpNYXRoLnJhbmRvbSgpKSAmIDB4RkYpO1xuXHR9XG5cblx0dmFyIFZlY3RvclRpbGVWaWV3ID0gZnVuY3Rpb24odGlsZVByb3ZpZGVyLCB3ZWJHbFZpZXcsIHVzZVJhbmRvbUNvbG9ycykge1xuXHRcdHRoaXMudGlsZVByb3ZpZGVyID0gdGlsZVByb3ZpZGVyO1xuXHRcdHRoaXMud2ViR2xWaWV3ID0gd2ViR2xWaWV3O1xuXHRcdHRoaXMudGlsZXMgPSB7fTtcblx0XHR0aGlzLnNob3duVGlsZXMgPSB7fTtcblxuXHRcdC8vIHVzZWQgZm9yIGRlYnVnZ2luZ1xuXHRcdHRoaXMudXNlUmFuZG9tQ29sb3JzID0gdXNlUmFuZG9tQ29sb3JzO1xuXHR9O1xuXG5cdFZlY3RvclRpbGVWaWV3LnByb3RvdHlwZS5zZXRUaWxlU2l6ZSA9IGZ1bmN0aW9uKHRpbGVTaXplKSB7XG5cdFx0dGhpcy50aWxlU2l6ZSA9IHRpbGVTaXplO1xuXHR9O1xuXG5cdFZlY3RvclRpbGVWaWV3LnByb3RvdHlwZS5zZXRUaWxlU2l6ZSA9IGZ1bmN0aW9uKHRpbGVTaXplKSB7XG5cdFx0dGhpcy50aWxlU2l6ZSA9IHRpbGVTaXplO1xuXHR9O1xuXG5cdFZlY3RvclRpbGVWaWV3LnByb3RvdHlwZS5zaG93VGlsZXMgPSBmdW5jdGlvbih1bHgsIHVseSwgbHJ4LCBscnksIHpvb20pIHtcblx0XHRmb3IodmFyIGNvbHVtbj11bHg7IGNvbHVtbjw9bHJ4OyBjb2x1bW4rKykge1xuXHRcdFx0Zm9yKHZhciByb3c9dWx5OyByb3c8PWxyeTsgcm93KyspIHtcblx0XHRcdFx0dGhpcy5zaG93VGlsZShjb2x1bW4sIHJvdywgem9vbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMud2ViR2xWaWV3LmRyYXcoKTtcblx0fTtcblxuXHRWZWN0b3JUaWxlVmlldy5wcm90b3R5cGUuc2hvd1RpbGUgPSBmdW5jdGlvbih4LCB5LCB6KSB7XG5cdFx0dmFyIHVybCA9IHRoaXMudGlsZVByb3ZpZGVyLmdldFRpbGVVcmwoeCwgeSwgeik7XG5cdFx0Ly8gY29uc29sZS5sb2coXCJTaG93aW5nIHRpbGU6IFwiICsgdXJsKTtcblx0XHRpZih0aGlzLnNob3duVGlsZXNbdXJsXSkgcmV0dXJuO1xuXHRcdHRoaXMuc2hvd25UaWxlc1t1cmxdID0gdHJ1ZTtcblxuXHRcdGlmKHRoaXMudGlsZXNbdXJsXSkge1xuXHRcdFx0aWYodGhpcy50aWxlc1t1cmxdLmdlb21ldHJ5KSB7XG5cdFx0XHRcdHRoaXMud2ViR2xWaWV3LmFkZEdlb21ldHJ5KHRoaXMudGlsZXNbdXJsXS5nZW9tZXRyeSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKHRoaXMudGlsZXNbdXJsXS5kYXRhKSB7XG5cdFx0XHRcdHZhciBvcHRpb25zID0ge307XG5cdFx0XHRcdG9wdGlvbnMuZmVhdHVyZXMgPSB0aGlzLnRpbGVzW3VybF0uZGF0YTtcblx0XHRcdFx0b3B0aW9ucy5maWxsQ29sb3IgPSB0aGlzLnVzZVJhbmRvbUNvbG9ycyA/IGdldFJhbmRvbUNvbG9yKCkgOiBudWxsO1xuXHRcdFx0XHR0aGlzLnRpbGVzW3VybF0uZ2VvbWV0cnkgPSB0aGlzLndlYkdsVmlldy5jcmVhdGVHZW9tZXRyeShvcHRpb25zKTtcblx0XHRcdFx0dGhpcy53ZWJHbFZpZXcuZHJhdygpO1xuXHRcdFx0fVxuXHRcdH1lbHNle1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy50aWxlUHJvdmlkZXIuZ2V0VGlsZSh4LCB5LCB6KVxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG5cdFx0XHRcdFx0c2VsZi50aWxlc1t1cmxdID0gcmVzcG9uc2U7XG5cdFx0XHRcdFx0aWYoc2VsZi5zaG93blRpbGVzW3VybF0pIHtcblx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0ge307XG5cdFx0XHRcdFx0XHRvcHRpb25zLmZlYXR1cmVzID0gc2VsZi50aWxlc1t1cmxdLmRhdGE7XG5cdFx0XHRcdFx0XHRvcHRpb25zLmZpbGxDb2xvciA9IHNlbGYudXNlUmFuZG9tQ29sb3JzID8gZ2V0UmFuZG9tQ29sb3IoKSA6IG51bGw7XG5cdFx0XHRcdFx0XHRzZWxmLnRpbGVzW3VybF0uZ2VvbWV0cnkgPSBzZWxmLndlYkdsVmlldy5jcmVhdGVHZW9tZXRyeShvcHRpb25zKTtcblx0XHRcdFx0XHRcdHNlbGYud2ViR2xWaWV3LmRyYXcoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlYXNvbil7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2cocmVhc29uKTtcblx0XHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdFZlY3RvclRpbGVWaWV3LnByb3RvdHlwZS5oaWRlVGlsZSA9IGZ1bmN0aW9uKHgsIHksIHopIHtcblx0XHR2YXIgdXJsID0gdGhpcy50aWxlUHJvdmlkZXIuZ2V0VGlsZVVybCh4LCB5LCB6KTtcblx0XHQvLyBjb25zb2xlLmxvZyhcIkhpZGluZyB0aWxlOiBcIiArIHVybCk7XG5cdFx0dGhpcy5zaG93blRpbGVzW3VybF0gPSBmYWxzZTtcblxuXHRcdGlmKHRoaXMudGlsZXNbdXJsXSAmJiB0aGlzLnRpbGVzW3VybF0uZ2VvbWV0cnkpIHtcblx0XHRcdHRoaXMud2ViR2xWaWV3LnJlbW92ZUdlb21ldHJ5KHRoaXMudGlsZXNbdXJsXS5nZW9tZXRyeSk7XG5cdFx0XHRkZWxldGUgdGhpcy50aWxlc1t1cmxdLmdlb21ldHJ5O1xuXHRcdFx0dGhpcy50aWxlc1t1cmxdLmdlb21ldHJ5ID0gbnVsbDtcblx0XHR9XG5cdH07XG5cblx0VmVjdG9yVGlsZVZpZXcucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdFx0Zm9yKHZhciB1cmwgaW4gdGhpcy50aWxlcykge1xuXHRcdFx0aWYodGhpcy50aWxlc1t1cmxdLmdlb21ldHJ5KVxuXHRcdFx0XHR0aGlzLndlYkdsVmlldy5yZW1vdmVHZW9tZXRyeSh0aGlzLnRpbGVzW3VybF0uZ2VvbWV0cnkpO1xuXHRcdH1cblx0XHR0aGlzLndlYkdsVmlldy5kcmF3KCk7XG5cdH07XG5cblx0d2luZG93LlZlY3RvclRpbGVWaWV3ID0gVmVjdG9yVGlsZVZpZXc7XG59KCkpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
